!function(e){function n(t){if(i[t])return i[t].exports;var s=i[t]={exports:{},id:t,loaded:!1};return e[t].call(s.exports,s,s.exports,n),s.loaded=!0,s.exports}var i={};return n.m=e,n.c=i,n.p="",n(0)}({0:function(e,n,i){var t={},s=i(558),r=s.sibilant,s=void 0;t.sibilize=function(e){return r.sibilize(e)};var c=function(e){var n=e.data[0],i=e.data[1],s=e.data[2],r=t[i],c={};return function(){try{return c.result=r.apply(this,s)}catch(e){return c.error=e.message}}.call(this),postMessage([n,c])};onmessage=c},558:function(module,exports,__webpack_require__){this.sibilant=function(){var sibilant={},exports=sibilant,error=function(e){throw e},inspect=function(e){return function(){return e.toSource?e.toSource():e.toString()}.call(this)},bulkMap=function(e,n){var i=0,t=n.length,s=[];return function(){for(var r=void 0;i<e.length;)r=function(){return s.push(n.apply(this,e.slice(i,i+t))),i+=t}.call(this);return r}.call(this),s},inject=function(e,n,i){var t=e;return function(){return n&&"object"==typeof n&&"Array"===n.constructor.name?n.forEach(function(e,n){return t=i(t,e,n)}):void 0}.call(this),t},map=function(e,n){return inject([],e,function(e,i,t){return e.push(n(i,t)),e})},select=function(e,n){return inject([],e,function(e,i,t){return function(){return n(i,t)?e.push(i):void 0}.call(this),e})},detect=function(e,n){var i=void 0,t=0,e=e||[];return function(){for(var s=void 0;e.length!==t&&!i;)s=function(){return function(){return n(e[t],t)?i=e[t]:void 0}.call(this),t++}.call(this);return s}.call(this),i},all__QUERY=function(e,n){return"undefined"==typeof detect(e,function(e,i){return!n(e,i)})},none__QUERY=function(e,n){return"undefined"==typeof detect(e,n)},any__QUERY=function(e,n){return"undefined"!=typeof detect(e,n)},reject=function(e,n){return select(e,function(){return!n.apply(this,arguments)})},compact=function(e){return select(e,function(e){return null!==e&&!1!==e&&"undefined"!=typeof e})},interleave=function(e,n){return function(){if("string"==typeof n&&e&&"object"==typeof e&&"Array"===e.constructor.name){var i=e;return e=n,n=i}}.call(this),function(){return e&&"object"==typeof e&&"Array"===e.constructor.name?inject([],n,function(n,i,t){return n.concat([i,e[t]])}):inject([n[0]],n.slice(1),function(n,i,t){return n.concat([e,i])})}.call(this)},flatten=function(e){var e=Array.prototype.slice.call(arguments,0);return inject([],e,function(e,n){return e.concat(function(){return n&&"object"==typeof n&&"Array"===n.constructor.name?flatten.apply(this,n):n}.call(this))})},recurseMap=function(e,n){return function(){return e&&"object"==typeof e&&"Array"===e.constructor.name?map(e,function(e){return recurseMap(e,n)}):n(e)}.call(this)},pluck=function(e,n){return map(e,function(e){return e[n]})},mergeInto=function(e,n){return Object.keys(n).forEach(function(i){return e[i]=n[i]}),e},clone=function(e){return inject({},Object.keys(e),function(n,i){return n[i]=e[i],n})},mapValues=function(e,n){return inject({},Object.keys(e),function(i,t,s){return i[t]=n(e[t],t),i})},mergeWith=function(e,n){return mergeInto(clone(e),n)},log__BANG=function(e){var e=Array.prototype.slice.call(arguments,0);return inspect__BANG.apply(this,e).forEach(function(){return console.log(arguments[0])})},inspect__BANG=function(e){var e=Array.prototype.slice.call(arguments,0);return e.map(function(){return util.inspect(arguments[0],{colors:!1,depth:3})})},color=function(e,n,i){return e+n.join("")+"[0m"},black=function(e){var e=Array.prototype.slice.call(arguments,0);return color("[0;30m",e)},red=function(e){var e=Array.prototype.slice.call(arguments,0);return color("[0;31m",e)},green=function(e){var e=Array.prototype.slice.call(arguments,0);return color("[0;32m",e)},brown=function(e){var e=Array.prototype.slice.call(arguments,0);return color("[0;33m",e)},blue=function(e){var e=Array.prototype.slice.call(arguments,0);return color("[0;34m",e)},purple=function(e){var e=Array.prototype.slice.call(arguments,0);return color("[0;35m",e)},cyan=function(e){var e=Array.prototype.slice.call(arguments,0);return color("[0;36m",e)},gray=function(e){var e=Array.prototype.slice.call(arguments,0);return color("[0;37m",e)},boldGray=function(e){var e=Array.prototype.slice.call(arguments,0);return color("[1;30m",e)},boldRed=function(e){var e=Array.prototype.slice.call(arguments,0);return color("[1;31m",e)},boldGreen=function(e){var e=Array.prototype.slice.call(arguments,0);return color("[1;32m",e)},yellow=function(e){var e=Array.prototype.slice.call(arguments,0);return color("[1;33m",e)},boldBlue=function(e){var e=Array.prototype.slice.call(arguments,0);return color("[1;34m",e)},boldPurple=function(e){var e=Array.prototype.slice.call(arguments,0);return color("[1;35m",e)},boldCyan=function(e){var e=Array.prototype.slice.call(arguments,0);return color("[1;36m",e)},white=function(e){var e=Array.prototype.slice.call(arguments,0);return color("[1;37m",e)};sibilant.prettyPrint=function(e,n,i){return i="undefined"!=typeof i?i:!0,n="undefined"!=typeof n?n:!0,realNewlines(function(){if(node__QUERY(e)){var t=sibilant.prettyPrint[e.type]||sibilant.prettyPrint["default"];return t(e,n,i)}return e&&"object"==typeof e&&"Array"===e.constructor.name?function(){return n?black("["):""}.call(this)+map(e,function(){return prettify(arguments[0],n,!1)}).join(function(){return n?black(","):""}.call(this))+function(){return n?black("]"):""}.call(this):n?red(inspect(e)):realNewlines(inspect(e))}.call(this))};var prettify=sibilant.prettyPrint;sibilant.prettyPrint["default"]=function(e,n,i){var t=function(i){var t=e[i];return function(){return t&&t.length?map(t,function(){return prettify(arguments[0],n,!1)}).join(""):""}.call(this)};return realNewlines(sibilant.prettyPrint.colorize(e,n,function(){return i?"":t("precedingIgnored")}.call(this)+t("modifiers")+e.token+t("contents")+t("closingIgnored")+(e.closed&&acceptablePairs[e.token]||"")))},sibilant.prettyPrint.root=function(e,n,i){return map(e.contents,function(){return prettify(arguments[0],n,!1)}).join("\n")},sibilant.prettyPrint.output=function(e,n){return function(){return n?black("{"):""}.call(this)+function(){return e.contents&&"object"==typeof e.contents&&"Array"===e.contents.constructor.name?map(e.contents,function(){return sibilant.prettyPrint.colorize(e,n,prettify(arguments[0],n,!1))}).join(function(){return n?black(","):""}.call(this)):sibilant.prettyPrint.colorize(e,n,e.contents)}.call(this)+function(){return n?black("}"):""}.call(this)};var realNewlines=function(e){return e.split("\\n").join("\n")};sibilant.prettyPrint.colorize=function(e,n,i){return function(){return n?"macro"===e.hint?yellow(i):node__QUERY(e,"output")?purple(i):green(i):i}.call(this)};var outputFormatter=function(e){return function(){return e&&"object"==typeof e&&"Array"===e.constructor.name?map(e,outputFormatter).join(""):node__QUERY(e,"output")?outputFormatter(e.contents):"string"==typeof e||"number"==typeof e?e:"undefined"==typeof e||null===e?"":node__QUERY(e)?(console.log("WE SHOULD NOT BE HERE"),console.log("node"),console.log(prettify(e)),outputFormatter(transpile(e))):void 0}.call(this)};sibilant.outputFormatter=outputFormatter;var bulkMap=function(e,n){var i=0,t=n.length,s=[];return function(){for(var r=void 0;i<e.length;)r=function(){return s.push(n.apply(this,e.slice(i,i+t))),i+=t}.call(this);return r}.call(this),s},inject=function(e,n,i){var t=e;return function(){return n&&"object"==typeof n&&"Array"===n.constructor.name?n.forEach(function(e,n){return t=i(t,e,n)}):void 0}.call(this),t},map=function(e,n){return inject([],e,function(e,i,t){return e.push(n(i,t)),e})},select=function(e,n){return inject([],e,function(e,i,t){return function(){return n(i,t)?e.push(i):void 0}.call(this),e})},detect=function(e,n){var i=void 0,t=0,e=e||[];return function(){for(var s=void 0;e.length!==t&&!i;)s=function(){return function(){return n(e[t],t)?i=e[t]:void 0}.call(this),t++}.call(this);return s}.call(this),i},all__QUERY=function(e,n){return"undefined"==typeof detect(e,function(e,i){return!n(e,i)})},none__QUERY=function(e,n){return"undefined"==typeof detect(e,n)},any__QUERY=function(e,n){return"undefined"!=typeof detect(e,n)},reject=function(e,n){return select(e,function(){return!n.apply(this,arguments)})},compact=function(e){return select(e,function(e){return null!==e&&!1!==e&&"undefined"!=typeof e})},interleave=function(e,n){return function(){if("string"==typeof n&&e&&"object"==typeof e&&"Array"===e.constructor.name){var i=e;return e=n,n=i}}.call(this),function(){return e&&"object"==typeof e&&"Array"===e.constructor.name?inject([],n,function(n,i,t){return n.concat([i,e[t]])}):inject([n[0]],n.slice(1),function(n,i,t){return n.concat([e,i])})}.call(this)},flatten=function(e){var e=Array.prototype.slice.call(arguments,0);return inject([],e,function(e,n){return e.concat(function(){return n&&"object"==typeof n&&"Array"===n.constructor.name?flatten.apply(this,n):n}.call(this))})},recurseMap=function(e,n){return function(){return e&&"object"==typeof e&&"Array"===e.constructor.name?map(e,function(e){return recurseMap(e,n)}):n(e)}.call(this)},pluck=function(e,n){return map(e,function(e){return e[n]})},mergeInto=function(e,n){return Object.keys(n).forEach(function(i){return e[i]=n[i]}),e},clone=function(e){return inject({},Object.keys(e),function(n,i){return n[i]=e[i],n})},mapValues=function(e,n){return inject({},Object.keys(e),function(i,t,s){return i[t]=n(e[t],t),i})},mergeWith=function(e,n){return mergeInto(clone(e),n)},parser={};sibilant.parser=parser,parser.tokens={regex:"(\\/(\\\\\\/|[^\\/\\n])+\\/[glim]*)",comment:"(;.*)",string:'("(([^"]|(\\\\"))*[^\\\\])?")',number:"(-?[0-9][0-9.,]*)",literal:"(-?[*.$a-zA-Z_][/*.a-zA-Z0-9-_]*(\\?|!)?)",special:"([&'])",at:"@",tick:"[`']",hat:"(\\^)",dots:"(\\.+)",argPlaceholder:"(#[0-9]+)",otherChar:"([\\|#><=!\\+\\/\\*-]+)",openExpression:"(\\(|\\{|\\[)",closeExpression:"(\\)|\\}|\\])",newline:"\\n",whitespace:"\\s+",ignored:"."},parser.tokenPrecedence=["regex","comment","string","number","dots","tick","hat","at","special","literal","argPlaceholder","otherChar","openExpression","closeExpression","newline","whitespace","ignored"],parser.orderedRegexes=parser.tokenPrecedence.map(function(e){return mergeInto(new RegExp("^"+parser.tokens[e],void 0),{name:e})});var orderedRegexes=parser.orderedRegexes;parser.parse=function(e,n){n="undefined"!=typeof n?n:{position:0,stack:[],line:1,lastNewline:0,col:0};var i=!0,t=null,s=e;return function(){for(var e=void 0;i;)e=function(){return detect(orderedRegexes,function(e){return t=e.name,i=e.exec(s)}),function(){if("undefined"!=typeof i&&null!==i){var e=i[0],r=e.length;return n.stack.push({dir:sibilant.dir,file:sibilant.file,token:e,type:t,start:n.position,line:n.line,col:n.col,length:r,contents:[]}),function(){if("newline"===t)return n.line++,n.col=0,n.lastNewline=n.position;if("string"===t&&-1!==e.indexOf("\n")){var i=e.split("\n").length-1;return n.line+=i,n.col=r-e.lastIndexOf("\n")}return n.col+=r}.call(this),n.position+=r,s=function(){return s.length?s.slice(r):""}.call(this)}}.call(this)}.call(this);return e}.call(this),n.stack};var parse=parser.parse,restructurers={},acceptablePairs={"(":")","[":"]","{":"}"},bracketTypes={"(":"expression","[":"bracket","{":"brace"},restructure=function(e){var n={type:"root",contents:[],file:sibilant.file,col:0,line:1},i={parseStack:[n],output:n,input:e,ignoredTokens:[],specials:0};return inject(i,e,function(e,n,i){var t=restructurers[n.type]||restructurers["default"];return t(n,e,i)}),function(){if(1!==i.parseStack.length){var e=i.parseStack[0];throw new Error("unclosed node at "+e.file+":"+e.line+":"+e.col+"\n  "+prettify(e,!1).slice(0,100))}}.call(this),n};sibilant.restructure=restructure,restructurers.openExpression=function(e,n){var i=n.parseStack[0];return e.contents=[],e.type=bracketTypes[e.token],acceptIgnoredTokens(e,n),acceptSpecials(e,n),i.contents.push(e),n.parseStack.unshift(e),n},restructurers.closeExpression=function(e,n,i){var t=n.parseStack[0];return function(){if(node__QUERY(t,"root"))throw new Error("unexpected "+e.token+" on "+e.file+":"+e.line+":"+e.col)}.call(this),function(){if(acceptablePairs[t.token]!==e.token)throw new Error("trying to close "+yellow(sibilant.prettyPrint(t))+"\n   on "+t.file+":"+t.line+":"+t.col+"\n   with "+sibilant.prettyPrint(e)+"\n   on "+e.file+":"+e.line+":"+e.col+"\n")}.call(this),t.end=e.end,t.closed=!0,t.closingIgnored=n.ignoredTokens,n.ignoredTokens=[],n.parseStack.shift(),closeSpecials(t,n),function(){if(0===n.parseStack.length)throw new Error("unbalanced parens:\n"+inspect(parseStack))}.call(this),n};var openSpecial=function(e,n){n.specials++,acceptIgnoredTokens(e,n);var i=n.parseStack[0];return e.contents=[],i.contents.push(e),n.parseStack.unshift(e),n},acceptSpecials=function(e,n){return e.specials=n.specials,n.specials=0,n},acceptIgnoredTokens=function(e,n){return e.precedingIgnored=n.ignoredTokens,n.ignoredTokens=[],n},closeSpecials=function(e,n){return function(){return e.specials>0?(e.specials--,n.parseStack.shift(),closeSpecials(e,n)):void 0}.call(this),n},accumulateIgnoredToken=function(e,n,i){return n.ignoredTokens.push(e),n};["hat","dots","tick","at"].forEach(function(e){return restructurers[e]=openSpecial}),["whitespace","newline","ignored"].forEach(function(e){return restructurers[e]=accumulateIgnoredToken}),restructurers["default"]=function(e,n,i){return acceptSpecials(e,n),acceptIgnoredTokens(e,n),n.parseStack[0].contents.push(e),closeSpecials(e,n)};var coreNamespace={},macroNamespaces={core:coreNamespace};sibilant.state={},sibilant.macros={namespaces:macroNamespaces,defaultSearchPath:["core"],searchPath:["core"],namespace:coreNamespace};var namespace=sibilant.macros.namespace,macros=sibilant.macros.namespace;sibilant.macros.currentNamespace=function(){return sibilant.macros.namespaces[sibilant.macros.searchPath[0]]},sibilant.resolveMacro=function(e){return function(){if(-1!==e.indexOf("/")&&1<e.length&&-1===e.indexOf("\n")){var n=e.split("/"),i=sibilant.macros.namespaces.hasOwnProperty(n[0])&&sibilant.macros.namespaces[n[0]][n.slice(1).join("/")];return function(){return i?i:error("called namespaced macro "+e+" but could not find namespace "+n[0]+". you might need to include the file that defines it first.")}.call(this)}var t=detect(sibilant.macros.searchPath,function(n){return sibilant.macros.namespaces[n].hasOwnProperty(e)});return function(){return t?sibilant.macros.namespaces[t][e]:void 0}.call(this)}.call(this)},sibilant.withDefaultSearchPath=function(e){var n=sibilant.macros.searchPath;sibilant.macros.searchPath=sibilant.macros.defaultSearchPath;var i=e();return sibilant.macros.searchPath=n,i},sibilant.macros.namespaces.core.ternary=function(e,n,i){return["(",transpile(e),") ? ",transpile(n)," : ",transpile(i)]},sibilant.macros.namespaces.core.set=function(e,n){var n=Array.prototype.slice.call(arguments,1);return interleave("\n",bulkMap(n,function(n,i){return asStatement(["(",transpile(e),")","[",transpile(n),"] = ",transpile(i)])}))},sibilant.macros.namespaces.core["var"]=function(e){var e=Array.prototype.slice.call(arguments,0);return asStatement(["var ",interleave(",\n    ",bulkMap(e,function(e,n){return[transpile(e)," = ",transpile(n)]}))])},sibilant.macros.namespaces.core.get=function(e,n){var n=Array.prototype.slice.call(arguments,1);return["(",transpile(e),")",map(n,function(e){return["[",transpile(e),"]"]})]},sibilant.macros.namespaces.core.aliasMacro=function(e,n){var e=outputFormatter(transpile(e)),n=outputFormatter(transpile(n));return sibilant.macros.namespace[n]=sibilant.macros.namespace[e],null},sibilant.macros.namespaces.core.send=function(e,n,i){var i=Array.prototype.slice.call(arguments,2);return[transpile(e),".",transpile(n),"(",interleave(", ",map(i,transpile)),")"]},sibilant.macros.namespaces.core.apply=function(e,n){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:2119,line:75,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:".",type:"dots",start:2120,line:75,col:9,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"apply",type:"literal",start:2121,line:75,col:10,length:5,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},e,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"this",type:"literal",start:2131,line:75,col:20,length:4,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:2130,line:75,col:19,length:1,contents:[]}]},n],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.cons=function(e,n){return["[ ",transpile(e)," ].concat(",transpile(n),")"]},sibilant.macros.namespaces.core.append=function(e,n){var n=Array.prototype.slice.call(arguments,1);return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:2690,line:96,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:".",type:"dots",start:2691,line:96,col:9,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"concat",type:"literal",start:2692,line:96,col:10,length:6,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},e,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:2705,line:96,col:23,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"list",type:"literal",start:2706,line:96,col:24,length:4,contents:[],specials:0,precedingIgnored:[]}].concat(n),precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:2704,line:96,col:22,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.length=function(e){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:2871,line:103,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"get",type:"literal",start:2872,line:103,col:9,length:3,contents:[],specials:0,precedingIgnored:[]},e,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"'",type:"tick",start:2881,line:103,col:18,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"length",type:"literal",start:2882,line:103,col:19,length:6,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:2880,line:103,col:17,length:1,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.scoped=function(e){var e=Array.prototype.slice.call(arguments,0);return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:3126,line:110,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:".",type:"dots",start:3127,line:110,col:9,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"call",type:"literal",start:3128,line:110,col:10,length:4,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:3133,line:110,col:15,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"lambda",type:"literal",start:3134,line:110,col:16,length:6,contents:[],specials:0,precedingIgnored:[]},{node:this,args:[]}].concat(e),precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:3132,line:110,col:14,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"this",type:"literal",start:3172,line:110,col:54,length:4,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:3171,line:110,col:53,length:1,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.first=function(e){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:3954,line:130,col:20,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"get",type:"literal",start:3955,line:130,col:21,length:3,contents:[],specials:0,precedingIgnored:[]},e,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"0",type:"number",start:3964,line:130,col:30,length:1,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:3963,line:130,col:29,length:1,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.second=function(e){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:3989,line:131,col:21,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"get",type:"literal",start:3990,line:131,col:22,length:3,contents:[],specials:0,precedingIgnored:[]},e,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"1",type:"number",start:3999,line:131,col:31,length:1,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:3998,line:131,col:30,length:1,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.third=function(e){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:4023,line:132,col:20,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"get",type:"literal",start:4024,line:132,col:21,length:3,contents:[],specials:0,precedingIgnored:[]},e,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"2",type:"number",start:4033,line:132,col:30,length:1,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:4032,line:132,col:29,length:1,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.rest=function(e){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:4170,line:138,col:19,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:".",type:"dots",start:4171,line:138,col:20,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"slice",type:"literal",start:4172,line:138,col:21,length:5,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},e,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"1",type:"number",start:4183,line:138,col:32,length:1,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:4182,line:138,col:31,length:1,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.last=function(e){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:4330,line:143,col:19,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"first",type:"literal",start:4331,line:143,col:20,length:5,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:4337,line:143,col:26,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:".",type:"dots",start:4338,line:143,col:27,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"slice",type:"literal",start:4339,line:143,col:28,length:5,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},e,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"-1",type:"number",start:4350,line:143,col:39,length:2,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:4349,line:143,col:38,length:1,contents:[]}]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:4336,line:143,col:25,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["="]=function(e,n){return[transpile(e)," === ",transpile(n)]},sibilant.macros.namespaces.core["+"]=function(e){var e=Array.prototype.slice.call(arguments,0);return["(",interleave(" + ",map(e,transpile)),")"]},sibilant.macros.namespaces.core["-"]=function(e){var e=Array.prototype.slice.call(arguments,0);return["(",interleave(" - ",map(e,transpile)),")"]},sibilant.macros.namespaces.core._=function(e){var e=Array.prototype.slice.call(arguments,0);return["(",interleave(" * ",map(e,transpile)),")"]},sibilant.macros.namespaces.core["/"]=function(e){var e=Array.prototype.slice.call(arguments,0);return["(",interleave(" / ",map(e,transpile)),")"]},sibilant.macros.namespaces.core.or=function(e){var e=Array.prototype.slice.call(arguments,0);return["(",interleave(" || ",map(e,transpile)),")"]},sibilant.macros.namespaces.core.and=function(e){var e=Array.prototype.slice.call(arguments,0);return 1===e.length?transpile(e[0]):["(",interleave(" && ",map(e,transpile)),")"]},sibilant.macros.namespaces.core.mod=function(e){var e=Array.prototype.slice.call(arguments,0);return["(",interleave(" % ",map(e,transpile)),")"]},sibilant.macros.namespaces.core[">"]=function(e){var e=Array.prototype.slice.call(arguments,0),n=">";return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:7292,line:232,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"and",type:"literal",start:7293,line:232,col:9,length:3,contents:[],specials:0,precedingIgnored:[]}].concat(map(e.slice(0,-1),function(i,t){return[i," ",n," ",e[1+t]]})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["<"]=function(e){var e=Array.prototype.slice.call(arguments,0),n="<";return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:7504,line:239,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"and",type:"literal",start:7505,line:239,col:9,length:3,contents:[],specials:0,precedingIgnored:[]}].concat(map(e.slice(0,-1),function(i,t){return[i," ",n," ",e[1+t]]})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["<="]=function(e){var e=Array.prototype.slice.call(arguments,0),n="<=";return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:7717,line:245,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"and",type:"literal",start:7718,line:245,col:9,length:3,contents:[],specials:0,precedingIgnored:[]}].concat(map(e.slice(0,-1),function(i,t){return[i," ",n," ",e[1+t]]})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core[">="]=function(e){var e=Array.prototype.slice.call(arguments,0),n=">=";return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:7930,line:251,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"and",type:"literal",start:7931,line:251,col:9,length:3,contents:[],specials:0,precedingIgnored:[]}].concat(map(e.slice(0,-1),function(i,t){return[i," ",n," ",e[1+t]]})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["!="]=function(e){var e=Array.prototype.slice.call(arguments,0),n="!==";return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:8143,line:256,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"and",type:"literal",start:8144,line:256,col:9,length:3,contents:[],specials:0,precedingIgnored:[]}].concat(map(e.slice(0,-1),function(i,t){return[i," ",n," ",e[1+t]]})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["="]=function(e){var e=Array.prototype.slice.call(arguments,0),n="===";return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:8356,line:262,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"and",type:"literal",start:8357,line:262,col:9,length:3,contents:[],specials:0,precedingIgnored:[]}].concat(map(e.slice(0,-1),function(i,t){return[i," ",n," ",e[1+t]]})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.incrBy=function(e,n){return[transpile(e)," += ",transpile(n)]},sibilant.macros.namespaces.core.incr=function(e){return["((",transpile(e),")++)"]},sibilant.macros.namespaces.core.decr=function(e){return["((",transpile(e),")--)"]},sibilant.macros.namespaces.core["new"]=function(e,n){var n=Array.prototype.slice.call(arguments,1);return["(new ",{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:9213,line:294,col:17,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"call",type:"literal",start:9214,
line:294,col:18,length:4,contents:[],specials:0,precedingIgnored:[]},e].concat(n),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]},")"]},sibilant.macros.namespaces.core.regex=function(e,n){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:9458,line:302,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"new",type:"literal",start:9459,line:302,col:9,length:3,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"RegExp",type:"literal",start:9463,line:302,col:13,length:6,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:9462,line:302,col:12,length:1,contents:[]}]},e,n||"undefined"],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.zero__QUERY=function(e){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:9624,line:309,col:21,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"=",type:"otherChar",start:9625,line:309,col:22,length:1,contents:[],specials:0,precedingIgnored:[]},e,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"0",type:"number",start:9633,line:309,col:30,length:1,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:9632,line:309,col:29,length:1,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.empty__QUERY=function(e){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:9788,line:316,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"=",type:"otherChar",start:9789,line:316,col:9,length:1,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"0",type:"number",start:9791,line:316,col:11,length:1,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:9790,line:316,col:10,length:1,contents:[]}]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:9793,line:316,col:13,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"length",type:"literal",start:9794,line:316,col:14,length:6,contents:[],specials:0,precedingIgnored:[]},e],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:9792,line:316,col:12,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.odd__QUERY=function(e){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:9940,line:323,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"=",type:"otherChar",start:9941,line:323,col:9,length:1,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"1",type:"number",start:9943,line:323,col:11,length:1,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:9942,line:323,col:10,length:1,contents:[]}]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:9945,line:323,col:13,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"mod",type:"literal",start:9946,line:323,col:14,length:3,contents:[],specials:0,precedingIgnored:[]},e,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"2",type:"number",start:9958,line:323,col:26,length:1,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:9957,line:323,col:25,length:1,contents:[]}]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:9944,line:323,col:12,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.even__QUERY=function(e){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:10111,line:330,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"=",type:"otherChar",start:10112,line:330,col:9,length:1,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"0",type:"number",start:10114,line:330,col:11,length:1,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:10113,line:330,col:10,length:1,contents:[]}]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:10116,line:330,col:13,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"mod",type:"literal",start:10117,line:330,col:14,length:3,contents:[],specials:0,precedingIgnored:[]},e,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"2",type:"number",start:10129,line:330,col:26,length:1,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:10128,line:330,col:25,length:1,contents:[]}]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:10115,line:330,col:12,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["typeof"]=function(e){return["typeof ",transpile(e)]},sibilant.macros.namespaces.core.string__QUERY=function(e){var e=Array.prototype.slice.call(arguments,0);return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:10565,line:344,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"and",type:"literal",start:10566,line:344,col:9,length:3,contents:[],specials:0,precedingIgnored:[]}].concat(map(e,function(e){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:10597,line:344,col:40,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"=",type:"otherChar",start:10598,line:344,col:41,length:1,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:10600,line:344,col:43,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"typeof",type:"literal",start:10601,line:344,col:44,length:6,contents:[],specials:0,precedingIgnored:[]},e],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:10599,line:344,col:42,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"'",type:"tick",start:10616,line:344,col:59,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"string",type:"literal",start:10617,line:344,col:60,length:6,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:10615,line:344,col:58,length:1,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.function__QUERY=function(e){var e=Array.prototype.slice.call(arguments,0);return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:10809,line:351,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"and",type:"literal",start:10810,line:351,col:9,length:3,contents:[],specials:0,precedingIgnored:[]}].concat(map(e,function(e){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:10841,line:351,col:40,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"=",type:"otherChar",start:10842,line:351,col:41,length:1,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:10844,line:351,col:43,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"typeof",type:"literal",start:10845,line:351,col:44,length:6,contents:[],specials:0,precedingIgnored:[]},e],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:10843,line:351,col:42,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"'",type:"tick",start:10860,line:351,col:59,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"function",type:"literal",start:10861,line:351,col:60,length:8,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:10859,line:351,col:58,length:1,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.undefined__QUERY=function(e){var e=Array.prototype.slice.call(arguments,0);return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:11176,line:361,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"and",type:"literal",start:11177,line:361,col:9,length:3,contents:[],specials:0,precedingIgnored:[]}].concat(map(e,function(e){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:11208,line:361,col:40,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"=",type:"otherChar",start:11209,line:361,col:41,length:1,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:11211,line:361,col:43,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"typeof",type:"literal",start:11212,line:361,col:44,length:6,contents:[],specials:0,precedingIgnored:[]},e],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:11210,line:361,col:42,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"'",type:"tick",start:11227,line:361,col:59,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"undefined",type:"literal",start:11228,line:361,col:60,length:9,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:11226,line:361,col:58,length:1,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.defined__QUERY=function(e){var e=Array.prototype.slice.call(arguments,0);return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:11503,line:370,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"and",type:"literal",start:11504,line:370,col:9,length:3,contents:[],specials:0,precedingIgnored:[]}].concat(map(e,function(e){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:11535,line:370,col:40,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"!=",type:"otherChar",start:11536,line:370,col:41,length:2,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:11539,line:370,col:44,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"typeof",type:"literal",start:11540,line:370,col:45,length:6,contents:[],specials:0,precedingIgnored:[]},e],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:11538,line:370,col:43,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"'",type:"tick",start:11555,line:370,col:60,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"undefined",type:"literal",start:11556,line:370,col:61,length:9,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:11554,line:370,col:59,length:1,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.number__QUERY=function(e){var e=Array.prototype.slice.call(arguments,0);return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:11764,line:378,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"and",type:"literal",start:11765,line:378,col:9,length:3,contents:[],specials:0,precedingIgnored:[]}].concat(map(e,function(e){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:11796,line:378,col:40,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"=",type:"otherChar",start:11797,line:378,col:41,length:1,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:11799,line:378,col:43,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"typeof",type:"literal",start:11800,line:378,col:44,length:6,contents:[],specials:0,precedingIgnored:[]},e],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:11798,line:378,col:42,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"'",type:"tick",start:11815,line:378,col:59,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"number",type:"literal",start:11816,line:378,col:60,length:6,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:11814,line:378,col:58,length:1,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["if"]=function(e,n,i){return["(function() {",indent(["if (",transpile(e),") {",indent({dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:11976,line:385,col:33,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"do",type:"literal",start:11977,line:385,col:34,length:2,contents:[],specials:0,precedingIgnored:[]}].concat(n),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}),"} else {",indent({dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:12063,line:387,col:33,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"do",type:"literal",start:12064,line:387,col:34,length:2,contents:[],specials:0,precedingIgnored:[]}].concat(i),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}),"}"]),"}).call(this)"]},sibilant.macros.namespaces.core.pipe=function(e){var e=Array.prototype.slice.call(arguments,0);return inject(void 0,e,function(e,n){return function(){return"undefined"==typeof e?n:function(){var i=function(){return node__QUERY(n,"literal","dots")?{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:13169,line:421,col:39,length:1,contents:[n],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}:clone(n)}.call(this),t=detect(i.contents,function(e){return node__QUERY(e,"otherChar")&&"#"===e.token}),s=i.contents.indexOf(t),r=function(){return t?[s,1+s]:[1,1]}.call(this);return mergeInto(i,{contents:i.contents.slice(0,r[0]).concat([e],i.contents.slice(r[1]))})}.call(this)}.call(this)})},sibilant.macros.namespaces.core["|>"]=sibilant.macros.namespaces.core.pipe,sibilant.macros.namespaces.core.comment=function(e){var e=Array.prototype.slice.call(arguments,0);return map(e,function(e){return["// ",recurseMap(transpile(e),function(e){return e?outputFormatter(transpile(e)).replace(new RegExp("\n","g"),"\n// "):null})]})},sibilant.macros.namespaces.core.array__QUERY=function(e){var n=transpile(e);return["((",n,") && typeof (",n,') === "object" && (',n,').constructor.name === "Array")']},sibilant.macros.namespaces.core.list__QUERY=sibilant.macros.namespaces.core.array__QUERY,sibilant.macros.namespaces.core.hash__QUERY=function(e){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:15707,line:482,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"and",type:"literal",start:15708,line:482,col:9,length:3,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:15712,line:482,col:13,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"=",type:"otherChar",start:15713,line:482,col:14,length:1,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"'",type:"tick",start:15715,line:482,col:16,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"object",type:"literal",start:15716,line:482,col:17,length:6,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:15714,line:482,col:15,length:1,contents:[]}]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:15723,line:482,col:24,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"typeof",type:"literal",start:15724,line:482,col:25,length:6,contents:[],specials:0,precedingIgnored:[]},e],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:15722,line:482,col:23,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:15711,line:482,col:12,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:15753,line:483,col:13,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"!=",type:"otherChar",start:15754,line:483,col:14,length:2,contents:[],specials:0,precedingIgnored:[]},e,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"null",type:"literal",start:15764,line:483,col:24,length:4,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:15763,line:483,col:23,length:1,contents:[]}]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"\n",type:"newline",start:15739,line:482,col:40,length:1,contents:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"             ",type:"whitespace",start:15740,line:483,col:0,length:13,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:15783,line:484,col:13,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"!=",type:"otherChar",start:15784,line:484,col:14,length:2,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:15787,line:484,col:17,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"get",type:"literal",start:15788,line:484,col:18,length:3,contents:[],specials:0,precedingIgnored:[]},e,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"'",type:"tick",start:15799,line:484,col:29,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"constructor",type:"literal",start:15800,line:484,col:30,length:11,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:15798,line:484,col:28,length:1,contents:[]}]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"'",type:"tick",start:15812,line:484,col:42,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"name",type:"literal",start:15813,line:484,col:43,length:4,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:15811,line:484,col:41,length:1,contents:[]}]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:15786,line:484,col:16,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"'",type:"tick",start:15819,line:484,col:49,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"Array",type:"literal",start:15820,line:484,col:50,length:5,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:15818,line:484,col:48,length:1,contents:[]}]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"\n",type:"newline",start:15769,line:483,col:29,length:1,contents:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"             ",type:"whitespace",start:15770,line:484,col:0,length:13,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.object__QUERY=sibilant.macros.namespaces.core.hash__QUERY,sibilant.macros.namespaces.core._scopedWithoutReturn=function(e){var e=Array.prototype.slice.call(arguments,0);return["(function() {",indent.apply(this,e),"}).call(this)"]},sibilant.macros.namespaces.core._scopedWithoutSource=function(e){var e=Array.prototype.slice.call(arguments,0);return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:16007,line:492,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"*scoped-without-return",type:"literal",start:16008,line:492,col:9,length:22,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:16031,line:492,col:32,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"do",type:"literal",start:16032,line:492,col:33,length:2,contents:[],specials:0,precedingIgnored:[]}].concat(e),precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:16030,line:492,col:31,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.when=function(e,n){var n=Array.prototype.slice.call(arguments,1);return sibilant.macros.namespaces.core._scopedWithoutReturn("if (",e,") {",indent({dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:16453,line:504,col:18,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"do",type:"literal",start:16454,line:504,col:19,length:2,contents:[],specials:0,precedingIgnored:[]}].concat(n),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}),"}")},sibilant.macros.namespaces.core.not=function(e){return["!(",transpile(e),")"]},sibilant.macros.namespaces.core.unless=function(e,n){var n=Array.prototype.slice.call(arguments,1);return["(function() {",indent(["if (",{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:17186,line:528,col:25,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"not",type:"literal",start:17187,line:528,col:26,length:3,contents:[],specials:0,precedingIgnored:[]},e],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]},") {",indent({dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:17242,line:529,col:33,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"do",type:"literal",start:17243,line:529,col:34,length:2,contents:[],specials:0,precedingIgnored:[]}].concat(n),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}),"}"]),"}).call(this)"]},sibilant.macros.namespaces.core.assign=function(e){var e=Array.prototype.slice.call(arguments,0);return interleave("\n",bulkMap(e,function(e,n){return asStatement([transpile(e)," = ",transpile(n)])}))},sibilant.macros.namespaces.core.logPretty=function(e,n){var i=this;return function(){return"undefined"==typeof n?(n=e,e=['"',prettify(e,!1),'"']):void 0}.call(this),{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:18065,line:553,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"console.log",type:"literal",start:18066,line:553,col:9,length:11,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:18078,line:553,col:21,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"concat",type:"literal",start:18079,line:553,col:22,length:6,contents:[],specials:0,precedingIgnored:[]},['"',i.file,":",i.line,'"'],{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",
token:'" "',type:"string",start:18123,line:553,col:66,length:3,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:18122,line:553,col:65,length:1,contents:[]}]},e,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:'" = "',type:"string",start:18134,line:553,col:77,length:5,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:18133,line:553,col:76,length:1,contents:[]}]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:18140,line:553,col:83,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"prettify",type:"literal",start:18141,line:553,col:84,length:8,contents:[],specials:0,precedingIgnored:[]},n],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:18139,line:553,col:82,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:18077,line:553,col:20,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.prettyLog=sibilant.macros.namespaces.core.logPretty,sibilant.macros.namespaces.core.each=function(e,n,i){var i=Array.prototype.slice.call(arguments,2);return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:18935,line:567,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:".",type:"dots",start:18936,line:567,col:9,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"for-each",type:"literal",start:18937,line:567,col:10,length:8,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},n,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:18972,line:568,col:19,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"lambda",type:"literal",start:18973,line:568,col:20,length:6,contents:[],specials:0,precedingIgnored:[]},{node:this,args:function(){return node__QUERY(e,"expression")?e:[e]}.call(this)}].concat(i),precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"\n",type:"newline",start:18952,line:567,col:25,length:1,contents:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"                   ",type:"whitespace",start:18953,line:568,col:0,length:19,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.macroExpand=function(e){var n=macros[outputFormatter(transpile(e))];return function(){return n?n.toString():"undefined"}.call(this)},sibilant.macros.namespaces.core["throw"]=function(e){return["throw ",transpile(e)]},sibilant.macros.namespaces.core.asBoolean=function(e){return["(!!(",transpile(e),"))"]},sibilant.macros.namespaces.core["try"]=function(e,n){return["(function() {",indent(["try {",indent({dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:19905,line:614,col:26,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"do",type:"literal",start:19906,line:614,col:27,length:2,contents:[],specials:0,precedingIgnored:[]},e],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}),"} catch (e) {",indent({dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:19980,line:616,col:26,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"do",type:"literal",start:19981,line:616,col:27,length:2,contents:[],specials:0,precedingIgnored:[]},n],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}),"}"]),"}).call(this)"]},sibilant.macros.namespaces.core.state=function state$(pairs){var pairs=Array.prototype.slice.call(arguments,0);return function(){return 1===pairs.length?sibilant.state[outputFormatter(transpile(pairs[0]))]:(bulkMap(pairs,function(k,v){return sibilant.state[outputFormatter(transpile(k))]=eval(outputFormatter(transpile(v)))}),null)}.call(this)},sibilant.macros.namespaces.core.symbol=function(){var e=sibilant.state.symbolCount||0,n=1+e;return sibilant.macros.namespaces.core.state("symbolCount",n),["$_symbol"+n+"_$"]},sibilant.macros.namespaces.core["while"]=function(e,n){var n=Array.prototype.slice.call(arguments,1),i=sibilant.macros.namespaces.core.symbol();return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:21118,line:654,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"*scoped-without-source",type:"literal",start:21119,line:654,col:9,length:22,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:21151,line:655,col:9,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"var",type:"literal",start:21152,line:655,col:10,length:3,contents:[],specials:0,precedingIgnored:[]},i],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"\n",type:"newline",start:21141,line:654,col:31,length:1,contents:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"         ",type:"whitespace",start:21142,line:655,col:0,length:9,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{type:"output",contents:["while (",transpile(e),") {",indent({dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:21288,line:658,col:35,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"assign",type:"literal",start:21289,line:658,col:36,length:6,contents:[],specials:0,precedingIgnored:[]},i,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:21304,line:658,col:51,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"*scoped-without-source",type:"literal",start:21305,line:658,col:52,length:22,contents:[],specials:0,precedingIgnored:[]}].concat(n),precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:21303,line:658,col:50,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}),"}"]},i],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.until=function(e,n){var n=Array.prototype.slice.call(arguments,1);return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:21697,line:672,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"while",type:"literal",start:21698,line:672,col:9,length:5,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:21704,line:672,col:15,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"not",type:"literal",start:21705,line:672,col:16,length:3,contents:[],specials:0,precedingIgnored:[]},e],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:21703,line:672,col:14,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}].concat(n),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.match__QUERY=function(e,n){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:21978,line:682,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:".",type:"dots",start:21979,line:682,col:9,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"match",type:"literal",start:21980,line:682,col:10,length:5,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},n,e],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.matchRegex__QUERY=function(e,n,i){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:22214,line:688,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"match?",type:"literal",start:22215,line:688,col:9,length:6,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:22222,line:688,col:16,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"regex",type:"literal",start:22223,line:688,col:17,length:5,contents:[],specials:0,precedingIgnored:[]},n,i],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:22221,line:688,col:15,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},e],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.replace=function(e,n,i){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:22476,line:695,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:".",type:"dots",start:22477,line:695,col:9,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"replace",type:"literal",start:22478,line:695,col:10,length:7,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},e,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:22508,line:696,col:14,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"regex",type:"literal",start:22509,line:696,col:15,length:5,contents:[],specials:0,precedingIgnored:[]},n],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"\n",type:"newline",start:22493,line:695,col:25,length:1,contents:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"              ",type:"whitespace",start:22494,line:696,col:0,length:14,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},i],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.replaceAll=function(e,n,i){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:22773,line:703,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:".",type:"dots",start:22774,line:703,col:9,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"replace",type:"literal",start:22775,line:703,col:10,length:7,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},e,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:22791,line:703,col:26,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"regex",type:"literal",start:22792,line:703,col:27,length:5,contents:[],specials:0,precedingIgnored:[]},n,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"'",type:"tick",start:22807,line:703,col:42,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"g",type:"literal",start:22808,line:703,col:43,length:1,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:22806,line:703,col:41,length:1,contents:[]}]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:22790,line:703,col:25,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},i],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.thunk=function(e){var e=Array.prototype.slice.call(arguments,0),n=this,i={node:n,args:[]};return function(){return node__QUERY(e[0])?void 0:(mergeInto(i,e[0]),e=e.slice(1))}.call(this),{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:23396,line:724,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"lambda",type:"literal",start:23397,line:724,col:9,length:6,contents:[],specials:0,precedingIgnored:[]},i].concat(mapNode(e,function(e){return function(){return node__QUERY(e,"argPlaceholder")?{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:23549,line:728,col:24,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"argument",type:"literal",start:23550,line:728,col:25,length:8,contents:[],specials:0,precedingIgnored:[]},e.token.replace(new RegExp("^#",void 0),"")],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}:e}.call(this)})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["#>"]=sibilant.macros.namespaces.core.thunk,sibilant.macros.namespaces.core.pipeThunk=function(e){var e=Array.prototype.slice.call(arguments,0);return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:23930,line:739,col:30,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"thunk",type:"literal",start:23931,line:739,col:31,length:5,contents:[],specials:0,precedingIgnored:[]},{node:this},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:23952,line:739,col:52,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"pipe",type:"literal",start:23953,line:739,col:53,length:4,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"#0",type:"argPlaceholder",start:23958,line:739,col:58,length:2,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:23957,line:739,col:57,length:1,contents:[]}]}].concat(e),precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:23951,line:739,col:51,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["#->"]=sibilant.macros.namespaces.core.pipeThunk,sibilant.macros.namespaces.core.keys=function(e){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:24264,line:752,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"Object.keys",type:"literal",start:24265,line:752,col:9,length:11,contents:[],specials:0,precedingIgnored:[]},e],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["delete"]=function(e){var e=Array.prototype.slice.call(arguments,0);return interleave("\n",map(e,function(e){return asStatement(["delete ",transpile(e)])}))},sibilant.macros.namespaces.core.deleteMacro=function(e){var e=Array.prototype.slice.call(arguments,0);return e.forEach(function(e){return delete sibilant.macros.namespace[outputFormatter(transpile(e))]}),null},sibilant.macros.namespaces.core.delmacro=sibilant.macros.namespaces.core.deleteMacro,sibilant.macros.namespaces.core.renameMacro=function(e,n){return sibilant.macros.namespaces.core.aliasMacro(e,n),sibilant.macros.namespaces.core.deleteMacro(e),null},sibilant.macros.namespaces.core.arguments=function(){return["(Array.prototype.slice.apply(arguments))"]},sibilant.macros.namespaces.core.argument=function(e){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:25850,line:817,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"get",type:"literal",start:25851,line:817,col:9,length:3,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"arguments",type:"literal",start:25855,line:817,col:13,length:9,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:25854,line:817,col:12,length:1,contents:[]}]},e],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.eachKey=function(e,n,i){var i=Array.prototype.slice.call(arguments,2);return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:26058,line:826,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"pipe",type:"literal",start:26059,line:826,col:9,length:4,contents:[],specials:0,precedingIgnored:[]},n,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:26069,line:826,col:19,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"keys",type:"literal",start:26070,line:826,col:20,length:4,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:26068,line:826,col:18,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:26090,line:827,col:14,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:".",type:"dots",start:26091,line:827,col:15,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"for-each",type:"literal",start:26092,line:827,col:16,length:8,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:26101,line:827,col:25,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"lambda",type:"literal",start:26102,line:827,col:26,length:6,contents:[],specials:0,precedingIgnored:[]},{args:function(){return node__QUERY(e,"expression")?e:[e]}.call(this),node:this}].concat(i),precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:26100,line:827,col:24,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"\n",type:"newline",start:26075,line:826,col:25,length:1,contents:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"              ",type:"whitespace",start:26076,line:827,col:0,length:14,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["switch"]=function(e,n){var n=Array.prototype.slice.call(arguments,1);return["(function() {",indent(["switch(",transpile(e),") {",map(n,function(e){var n=e.contents[0],i=function(){return node__QUERY(n,"expression","bracket")?n.contents:[n]}.call(this),t=interleave("\n",map(i,function(e){return function(){return"default"===e.token?"default:":["case ",transpile(e),":"]}.call(this)}));return["\n",t,indent({dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:27747,line:861,col:59,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"do",type:"literal",start:27748,line:861,col:60,length:2,contents:[],specials:0,precedingIgnored:[]}].concat(e.contents.slice(1)),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]})]}),"}"]),"}).call(this)"]},sibilant.macros.namespaces.core["if"]=function(e){var e=Array.prototype.slice.call(arguments,0);return["(function() {",indent(interleave(" else ",bulkMap(e,function(e,n){return function(){return"undefined"!=typeof n?["if (",transpile(e),") {",indent({dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:29023,line:901,col:44,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"do",type:"literal",start:29024,line:901,col:45,length:2,contents:[],specials:0,precedingIgnored:[]},n],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}),"}"]:["{",indent({dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:29121,line:903,col:47,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"do",type:"literal",start:29122,line:903,col:48,length:2,contents:[],specials:0,precedingIgnored:[]},e],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}),"}"]}.call(this)}))),"}).call(this)"]},sibilant.macros.namespaces.core.chain=function(e,n){var n=Array.prototype.slice.call(arguments,1);return console.log("DEPRECATION WARNING: DO NOT USE CHAIN"),console.log("  "+this.file+":"+this.line+":"+this.col),function(){if(0===n.length)return transpile(e);if(1===n.length)return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:29664,line:926,col:31,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"send",type:"literal",start:29665,line:926,col:32,length:4,contents:[],specials:0,precedingIgnored:[]},e].concat(n[0].contents),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]};var i=map(n,function(e,n){return[".",transpile(e.contents[0]),"(",interleave(", ",map(e.contents.slice(1),transpile)),")"]});return[transpile(e),i[0],"\n  ",recurseIndent(interleave("\n",i.slice(1)))]}.call(this)},sibilant.macros.namespaces.core.instanceOf__QUERY=function(e,n){return["(",transpile(e)," instanceof ",transpile(n),")"]},sibilant.macros.namespaces.core.includes__QUERY=function(e,n){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:30643,line:959,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"pipe",type:"literal",start:30644,line:959,col:9,length:4,contents:[],specials:0,precedingIgnored:[]},e,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:30659,line:959,col:24,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:".",type:"dots",start:30660,line:959,col:25,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"index-of",type:"literal",start:30661,line:959,col:26,length:8,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},n],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:30658,line:959,col:23,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:30679,line:959,col:44,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"!=",type:"otherChar",start:30680,line:959,col:45,length:2,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"-1",type:"number",start:30683,line:959,col:48,length:2,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:30682,line:959,col:47,length:1,contents:[]}]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:30678,line:959,col:43,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.excludes__QUERY=function(e,n){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:30956,line:972,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"pipe",type:"literal",start:30957,line:972,col:9,length:4,contents:[],specials:0,precedingIgnored:[]},e,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:30972,line:972,col:24,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:".",type:"dots",start:30973,line:972,col:25,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"index-of",type:"literal",start:30974,line:972,col:26,length:8,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},n],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:30971,line:972,col:23,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:30992,line:972,col:44,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"=",type:"otherChar",start:30993,line:972,col:45,length:1,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"-1",type:"number",start:30995,line:972,col:47,length:2,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:30994,line:972,col:46,length:1,contents:[]}]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:30991,line:972,col:43,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.exists__QUERY=function(e){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:31210,line:983,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"and",type:"literal",start:31211,line:983,col:9,length:3,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:31215,line:983,col:13,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"defined?",type:"literal",start:31216,line:983,col:14,length:8,contents:[],specials:0,precedingIgnored:[]},e],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:31214,line:983,col:12,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:31233,line:983,col:31,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"!=",type:"otherChar",start:31234,line:983,col:32,length:2,contents:[],specials:0,precedingIgnored:[]},e,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"null",type:"literal",start:31244,line:983,col:42,length:4,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:31243,line:983,col:41,
length:1,contents:[]}]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:31232,line:983,col:30,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.withState=function(e,n,i){var i=Array.prototype.slice.call(arguments,2),t=sibilant.macros.namespaces.core.state(e);sibilant.macros.namespaces.core.state(e,n);var s=interleave("\n",map(i,transpile));return sibilant.macros.namespaces.core.state(e,t),s},sibilant.macros.namespaces.core.join=function(e,n){return function(){return"undefined"!=typeof n&&"undefined"==typeof e?(e=n,n=void 0):void 0}.call(this),{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:31944,line:1014,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:".",type:"dots",start:31945,line:1014,col:9,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"join",type:"literal",start:31946,line:1014,col:10,length:4,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},e,n||'""'],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core._destructure=function(e){var n=[];return bulkMap(e,function(e,i){var t=transpile(i);return function(){switch(e.type){case"bracket":var s=outputFormatter(t).match(new RegExp("^[._a-zA-Z0-9]+$",void 0)),r=function(){if(s)return t;var e=sibilant.macros.namespaces.core.symbol();return n.push([e,t]),e}.call(this);return e.contents.forEach(function(e,i){return n.push([transpile(e),{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:32902,line:1032,col:76,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"get",type:"literal",start:32903,line:1032,col:77,length:3,contents:[],specials:0,precedingIgnored:[]},r,i],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}])}),function(){return s?void 0:n.push([r,"undefined"])}.call(this);case"brace":var s=outputFormatter(t).match(new RegExp("^[._a-zA-Z0-9]+$",void 0)),r=function(){if(s)return t;var e=sibilant.macros.namespaces.core.symbol();return n.push([e,t]),e}.call(this);return e.contents.forEach(function(e,i){var t=transpile(e);return n.push([t,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:33853,line:1044,col:67,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"get",type:"literal",start:33854,line:1044,col:68,length:3,contents:[],specials:0,precedingIgnored:[]},r,['"',t,'"']],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}])}),function(){return s?void 0:n.push([r,"undefined"])}.call(this);default:return n.push([transpile(e),function(){return i?t:"undefined"}.call(this)])}}.call(this)}),n},sibilant.macros.namespaces.core["var"]=function(e){var e=Array.prototype.slice.call(arguments,0);return asStatement(["var ",interleave(map(sibilant.macros.namespaces.core._destructure(e),function(e){return[e[0]," = ",e[1]]}),",\n    ")])},sibilant.macros.namespaces.core.assign=function(e){var e=Array.prototype.slice.call(arguments,0);return interleave(map(sibilant.macros.namespaces.core._destructure(e),function(e){return asStatement([e[0]," = ",e[1]])}),"\n")},sibilant.macros.namespaces.core["default"]=function(e){var e=Array.prototype.slice.call(arguments,0);return interleave("\n",bulkMap(e,function(e,n){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:35842,line:1098,col:35,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"assign",type:"literal",start:35843,line:1098,col:36,length:6,contents:[],specials:0,precedingIgnored:[]},e,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:35856,line:1098,col:49,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"ternary",type:"literal",start:35857,line:1098,col:50,length:7,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:35865,line:1098,col:58,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"defined?",type:"literal",start:35866,line:1098,col:59,length:8,contents:[],specials:0,precedingIgnored:[]},e],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:35864,line:1098,col:57,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},e,n],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:35855,line:1098,col:48,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}}))},sibilant.macros.namespaces.core.importNamespace=function(e){var n=outputFormatter(transpile(e));(function(){return sibilant.macros.namespaces.hasOwnProperty(n)?void 0:sibilant.macros.namespaces[n]={}}).call(this),sibilant.macros.searchPath.unshift(n)},sibilant.macros.namespaces.core.namespace=function(e){sibilant.macros.namespaces.core.importNamespace(e),sibilant.macros.namespace=sibilant.macros.namespaces[outputFormatter(transpile(e))]},sibilant.macros.namespaces.core.hasKey__QUERY=function(e,n){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:36650,line:1125,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:".",type:"dots",start:36651,line:1125,col:9,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"has-own-property",type:"literal",start:36652,line:1125,col:10,length:16,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},e,n],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.get=function(e,n){var n=Array.prototype.slice.call(arguments,1);return[transpile(e),map(n,function(e){var n=transpile(e),i=outputFormatter(n);return function(){return i.match(new RegExp('^"[a-zA-Z0-9]+"$',void 0))?[".",i.replace(new RegExp('"',"g"),"")]:["[",n,"]"]}.call(this)})]},sibilant.macros.namespaces.core.set=function(e,n){var n=Array.prototype.slice.call(arguments,1);return interleave("\n",bulkMap(n,function(n,i){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:38318,line:1176,col:52,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"assign",type:"literal",start:38319,line:1176,col:53,length:6,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:38326,line:1176,col:60,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"get",type:"literal",start:38327,line:1176,col:61,length:3,contents:[],specials:0,precedingIgnored:[]},e,n],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:38325,line:1176,col:59,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},i],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}}))},sibilant.macros.namespaces.core.lowerCase__QUERY=function(e){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:38515,line:1182,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"=",type:"otherChar",start:38516,line:1182,col:9,length:1,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:38518,line:1182,col:11,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:".",type:"dots",start:38519,line:1182,col:12,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"to-lower-case",type:"literal",start:38520,line:1182,col:13,length:13,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},e],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:38517,line:1182,col:10,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},e],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.upperCase__QUERY=function(e){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:38716,line:1190,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"=",type:"otherChar",start:38717,line:1190,col:9,length:1,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:38719,line:1190,col:11,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:".",type:"dots",start:38720,line:1190,col:12,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"to-upper-case",type:"literal",start:38721,line:1190,col:13,length:13,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},e],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:38718,line:1190,col:10,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},e],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.sourceMappingUrl=function sourceMappingUrl$(url){return["//# sourceMappingURL=",eval(outputFormatter(transpile(url))),"\n"]},sibilant.macros.namespaces.core.sortBy=function(e,n){return{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:39355,line:1207,col:8,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:".",type:"dots",start:39356,line:1207,col:9,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"sort",type:"literal",start:39357,line:1207,col:10,length:4,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},e,{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:39395,line:1208,col:15,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"#->",type:"otherChar",start:39396,line:1208,col:16,length:3,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:39400,line:1208,col:20,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"get",type:"literal",start:39401,line:1208,col:21,length:3,contents:[],specials:0,precedingIgnored:[]},n],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:39399,line:1208,col:19,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:".",type:"dots",start:39437,line:1209,col:20,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"to-string",type:"literal",start:39438,line:1209,col:21,length:9,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"\n",type:"newline",start:39416,line:1208,col:36,length:1,contents:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"                    ",type:"whitespace",start:39417,line:1209,col:0,length:20,contents:[]}]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:39468,line:1210,col:20,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:".",type:"dots",start:39469,line:1210,col:21,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"locale-compare",type:"literal",start:39470,line:1210,col:22,length:14,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"(",type:"expression",start:39485,line:1210,col:37,length:1,contents:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"get",type:"literal",start:39486,line:1210,col:38,length:3,contents:[],specials:0,precedingIgnored:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"#1",type:"argPlaceholder",start:39490,line:1210,col:42,length:2,contents:[],specials:0,precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:39489,line:1210,col:41,length:1,contents:[]}]},n],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:" ",type:"whitespace",start:39484,line:1210,col:36,length:1,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"\n",type:"newline",start:39447,line:1209,col:30,length:1,contents:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"                    ",type:"whitespace",start:39448,line:1210,col:0,length:20,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"\n",type:"newline",start:39379,line:1207,col:32,length:1,contents:[]},{dir:"/Users/jbr/code/sibilant/include",file:"/Users/jbr/code/sibilant/include/macros.sibilant",token:"               ",type:"whitespace",start:39380,line:1208,col:0,length:15,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}};var docs=sibilant.docs={definitions:[],undocumented:{}};docs.record=function(e,n,i,t){var s=docs.lastDoc;return function(){return"undefined"!=typeof s?(delete sibilant.docs.undocumented[i],sibilant.docs.definitions.push(mergeInto(s,{name:i,type:e,namespace:n,definition:t}))):sibilant.docs.undocumented[i]=!0}.call(this),delete sibilant.docs.lastDoc},docs.tags=function(){var e=flatten(pluck(docs.definitions,"tags")),n={};return e.forEach(function(e){return n[e]=(n[e]||0)+1}),n},docs.text=function docs$text$(){return docs.definitions.map(function(definition){return"name: "+definition.type+" "+definition.namespace+"/"+prettify(definition.name)+"\ndescription: "+definition.docString+"\n"+function(){return definition.references?"references:\n  "+(definition.references.map(function(){return eval(outputFormatter(transpile(arguments[0])))}).join("\n  ")+"\n"):""}.call(this)+function(){return definition.tags?"tags: "+definition.tags.join(", ")+"\n":""}.call(this)+"arguments: "+prettify(definition.definition.contents[2])+"\nexamples: \n"+(definition.examples||[]).map(function(){return prettify(arguments[0],!0)+"\n"+outputFormatter(transpile(arguments[0]))}).join("\n\n")+"\n\n"}).join("")},docs.textNoColor=function(){var e=__webpack_require__(559);return e(docs.text())},docs.json=function(){return JSON.stringify(docs.data())},docs.data=function(){return docs.definitions.map(function(e){return{name:prettify(e.name,!1),namespace:e.namespace,type:e.type,description:e.docString,references:function(){return e.references?e.references.map(function(){return arguments[0].token.slice(1,-1)}):[]}.call(this),arguments:e.definition.contents[2].contents.map(function(){return prettify(arguments[0],!1)}),definition:prettify(e.definition,!1),examples:(e.examples||[]).map(function(){return{javascript:outputFormatter(transpile(arguments[0])),sibilant:prettify(arguments[0],!1)}}),tags:e.tags}})};var tap=function(e,n){return n(e),e},recurseIndent=function(e){var e=Array.prototype.slice.call(arguments,0);return map(e,function(e){return function(){return node__QUERY(e)?mergeInto(e,{contents:recurseIndent.apply(this,compact(flatten(e.contents)))}):e&&"object"==typeof e&&"Array"===e.constructor.name?recurseIndent.apply(this,e):"number"==typeof e?e.toString():"string"==typeof e?e.replace(new RegExp("\\n","g"),"\n  ").replace(new RegExp("\\n\\s+\\n","g"),"\n\n"):e}.call(this)})},indent=function(e){var e=Array.prototype.slice.call(arguments,0);return["\n  ",recurseIndent(map(e,transpile)),"\n"]},escapeRegex=function(e){return e.replace(new RegExp("[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\^\\$\\|]","g"),"\\$&")},qescape=function(e){return function(){return"undefined"==typeof e||null===e?"":"string"==typeof e?e.split("\\\\ "[0]).join("\\\\ ".slice(0,-1)).replace(new RegExp('"',"g"),'\\"').replace(new RegExp("\\n","g"),'\\n" +\n"'):e}.call(this)},mapNode=function(e,n){return function(){if(node__QUERY(e)){var i=n(e);return function(){return node__QUERY(i)?i.contents=mapNode(i.contents,n):void 0}.call(this),i}return e&&"object"==typeof e&&"Array"===e.constructor.name?map(e,function(){return mapNode(arguments[0],n)}):n(e)}.call(this)},eachNode=function(e,n){return function(){return node__QUERY(e)?function(){return n(e)?eachNode(e.contents,n):void 0}.call(this):e&&"object"==typeof e&&"Array"===e.constructor.name?e.forEach(function(e){return eachNode(e,n)}):n(e)}.call(this)},statement__QUERY=function(e){return function(){return node__QUERY(e)?statement__QUERY(e.contents):e&&"object"==typeof e&&"Array"===e.constructor.name?statement__QUERY(e.slice(-1)[0]):"string"==typeof e?";"===e.slice(-1)[0]:!1}.call(this)},asStatement=function(e){var n=transpile(e);return function(){return emptyNode__QUERY(n)?void 0:statement__QUERY(n)?n:[n,";"]}.call(this)},unquote__QUERY=function(e){return node__QUERY(e,"at")},findUnquotes=function(e){var n={};return eachNode(e,function(e){return function(){return unquote__QUERY(e)?n[e.nodeId]=transpile(e):void 0}.call(this),!node__QUERY(e,"tick")}),n},spliceDots=function(e){return function(){if(e&&e.contents&&"object"==typeof e.contents&&"Array"===e.contents.constructor.name){var n=[];return e.contents.forEach(function(e){return function(){return node__QUERY(e,"dots")&&e.contents&&"object"==typeof e.contents&&"Array"===e.contents.constructor.name&&1===e.contents.length&&e.contents[0]&&"object"==typeof e.contents[0]&&"Array"===e.contents[0].constructor.name?n.push.apply(n,e.contents[0]):n.push(e)}.call(this)}),e.contents=n}}.call(this),e},alternatingKeysAndValues=function(e){return flatten(map(Object.keys(e),function(n){return[n,e[n]]}))},mapNodeForQuoteExpansion=function(e,n){return function(){if(node__QUERY(e)){var i=function(){return n.hasOwnProperty(e.nodeId)?n[e.nodeId]:clone(e)}.call(this);return function(){return node__QUERY(i)?i.contents=mapNodeForQuoteExpansion(i.contents,n):void 0}.call(this),i=spliceDots(i)}return e&&"object"==typeof e&&"Array"===e.constructor.name?map(e,function(){return mapNodeForQuoteExpansion(arguments[0],n)}):e}.call(this)};sibilant.macros.namespaces.core["return"]=function(e){(function(){return sibilant.debug?console.log("returning ",prettify(e)):void 0}).call(this);var n=asStatement(["return ",transpile(e)]);return function(){return e&&e.contents&&e.contents.length?function(){switch(e.contents[0].token){case"return":case"throw":case"do":return transpile(e);case"delete":var i=macros["delete"];return function(){return e.contents.length<3?n:[asStatement(i.apply(this,e.contents.slice(1,-1))),"\nreturn ",asStatement(i(e.contents.slice(-1)[0]))]}.call(this);case"def":return[transpile(e),"\n",sibilant.macros.namespaces.core["return"](e.contents[1])];case"assign":return function(){if(e.contents.length<4)return n;var i=clone(transpile(e));return i.contents=i.contents.slice(0,-4).concat(["return "],i.contents.slice(-4)),i}.call(this);case"var":return[transpile(e),"\n",sibilant.macros.namespaces.core["return"](function(){return 0===e.contents.length%2?e.contents.slice(-1)[0]:e.contents.slice(-2)[0]}.call(this))];case"set":return function(){if(e.contents.length<5)return n;var i=e.contents[1],t=e.contents.slice(2,e.contents.length-2),s=e.contents.slice(-2);return t.unshift(i),s.unshift(i),[sibilant.macros.namespaces.core.set.apply(this,t),"\nreturn ",sibilant.macros.namespaces.core.set.apply(this,s)]}.call(this);default:return n}}.call(this):n}.call(this)},sibilant.macros.namespaces.core["do"]=function(e){var e=Array.prototype.slice.call(arguments,0);return function(){return 1===e.length?sibilant.macros.namespaces.core["return"](e[0]):e.length?[interleave(map(e.slice(0,-1),function(){return asStatement(arguments[0])}),"\n"),"\n",sibilant.macros.namespaces.core["return"](e.slice(-1)[0])]:""}.call(this)},sibilant.macros.namespaces.core.emptyList=function(){return"null"},sibilant.macros.namespaces.core.def=function(e,n,i){var i=Array.prototype.slice.call(arguments,2);(function(){return"undefined"==typeof e?error("invalid function definition. missing name."):"undefined"==typeof n?error("invalid function definition. missing arguments or return value."):void 0}).call(this);var t=transpile(e),s=this;return sibilant.docs.record("function",sibilant.macros.searchPath[0],e,this),asStatement([function(){return outputFormatter(t).match(new RegExp("\\.",void 0))?"":"var "}.call(this),t," = ",sibilant.macros.namespaces.core.lambda.apply(this,[{name:e,args:n,node:s}].concat(i))])},sibilant.macros.namespaces.core.macro=function sibilant$macros$namespaces$core$macro$(name,args,body){var body=Array.prototype.slice.call(arguments,2),nameTr=outputFormatter(transpile(name)),options={name:name,args:args,node:this},js=outputFormatter(sibilant.macros.namespaces.core.lambda.apply(this,[options].concat(body)));(function(){return sibilant.debug?console.log(js):void 0}).call(this),sibilant.docs.record("macro",sibilant.macros.searchPath[0],name,this);var evaledJs=function(){try{return eval(js)}catch(e){return console.log(e.message),console.log(red(e.stack.split("\n")[1])),console.log("error in parsing macro "+sibilant.prettyPrint(name)+":\n"+js)}}.call(this);sibilant.macros.namespace[nameTr]=evaledJs},sibilant.macros.namespaces.core.meta=function sibilant$macros$namespaces$core$meta$(body){var body=Array.prototype.slice.call(arguments,0),js=outputFormatter(transpile(sibilant.macros.namespaces.core.scoped.apply(this,body)));return function(){return sibilant.debug?console.log(js):void 0}.call(this),outputFormatter(eval(js))},sibilant.macros.namespaces.core.concat=function(e){var e=Array.prototype.slice.call(arguments,0);return["(",interleave(" + ",map(e,transpile)),")"]},sibilant.macros.namespaces.core.reverse=function(e){var n=[];return e.forEach(function(e){return n.unshift(e)}),n};var reverse=sibilant.macros.namespaces.core.reverse;sibilant.macros.namespaces.core.lambda=function(e,n){var n=Array.prototype.slice.call(arguments,1);(function(){return sibilant.debug?console.log(e):void 0}).call(this);var i=e.args||e,n=e.body||n,i=function(){return node__QUERY(i,"expression")?i.contents:node__QUERY(i)&&0===n.length?(n=[i],[]):i}.call(this),t=function(){return e.name?outputFormatter(transpile(e.name)).replace(new RegExp("\\W+","g"),"$").concat("$"):void 0}.call(this),s=detect(i,function(){return node__QUERY(arguments[0],"dots")}),r=this,c=detect([e.node,r,e.name,i,n[0]],function(e){return node__QUERY(e)&&e.file});return["(function",function(){return t?" "+t:""}.call(this),"(",interleave(", ",map(i,transpile)),") {",function(){return e.name||c?indent(["/*",function(){return e.name?" "+sibilant.prettyPrint(e.name,!1):""}.call(this),function(){return c?" "+c.file+":"+c.line+":"+c.col:""}.call(this)," */"]):""}.call(this),function(){return"undefined"!=typeof s&&null!==s?indent(asStatement(["var ",transpile(s)," = Array.prototype.slice.call(arguments, ",i.length-1,")"])):void 0}.call(this),indent(sibilant.macros.namespaces.core["do"].apply(this,n)),"})"]},sibilant.macros.namespaces.core["#"]=sibilant.macros.namespaces.core.lambda,sibilant.macros.namespaces.core.quotedHash=function(e){var e=Array.prototype.slice.call(arguments,0),n=sibilant.quoteHashKeys;sibilant.quoteHashKeys=!0;var i=sibilant.macros.namespaces.core.hash.apply(this,e);return sibilant.quoteHashKeys=n,i},sibilant.macros.namespaces.core.hash=function(e){var e=Array.prototype.slice.call(arguments,0);(function(){return 1===e.length%2?error("odd number of key-value pairs in hash: "+inspect(e)):void 0}).call(this);var n=sibilant.quoteHashKeys,i=bulkMap(e,function(e,i){return[function(){return n&&!node__QUERY(e,"string")?['"',transpile(e),'"']:transpile(e)}.call(this),": ",transpile(i)]});return function(){return 1>=i.length?["{ ",interleave(", ",i)," }"]:["{",indent(interleave(",\n",i)),"}"]}.call(this)};var replace__BANG=function(e){return function(){return node__QUERY(e,"dots")&&3===e.token.length&&node__QUERY(e.contents[0],"at")?mergeInto(clone(e),{contents:[transpile(e.contents[0])]}):node__QUERY(e,"at")?transpile(e.contents[0]):node__QUERY(e,"tick")?JSON.stringify(e):"object"==typeof e&&null!==e&&"Array"!==e.constructor.name?sibilant.macros.namespaces.core.hash.apply(this,Object.keys(e).reduce(function(){return arguments[0].concat([arguments[1],replace__BANG(e[arguments[1]])])},[])):e&&"object"==typeof e&&"Array"===e.constructor.name?sibilant.macros.namespaces.core.list.apply(this,map(e,replace__BANG)):"undefined"==typeof e?"undefined":"number"==typeof e?e.toString():JSON.stringify(e)}.call(this)},prettyLogAndReturn=function(e){return console.log(sibilant.prettyPrint(e)),e};sibilant.macros.namespaces.core.quote=function(e){var n=findUnquotes(e);return function(){return"string"==typeof e?'"'+qescape(e)+'"':"number"==typeof e?sibilant.macros.namespaces.core.quote(e.toString()):node__QUERY(e,"literal","otherChar")?['"',transpile(e),'"']:Object.keys(n).length?replace__BANG(e,n):node__QUERY(e,"expression")?['"',mapNode(transpile(e),qescape),'"']:node__QUERY(e,"bracket")?sibilant.macros.namespaces.core.list.apply(this,map(e.contents,sibilant.macros.namespaces.core.quote)):node__QUERY(e,"brace")?sibilant.macros.namespaces.core.hash.apply(this,map(e.contents,sibilant.macros.namespaces.core.quote)):(console.log("unknown content"+inspect(e)),e)}.call(this)},sibilant.macros.namespaces.core.debug=function sibilant$macros$namespaces$core$debug$(val){return sibilant.debug=eval(outputFormatter(transpile(val))),null},sibilant.macros.namespaces.core.expandQuote=function(e,n){return transpile(mapNodeForQuoteExpansion(function(){return node__QUERY(e)?e:sibilant.nodeCache[e]}.call(this),n))},sibilant.macros.namespaces.core.list=function(e){var e=Array.prototype.slice.call(arguments,0),n=[];return function(){if(0===e.length)return"[]";var i=function(e){return["[ ",interleave(", ",map(e,function(e){return e.transpiled}))," ]"]};return e.forEach(function(e){return function(){return node__QUERY(e,"dots")?n.push({transpiled:transpile(e)}):n.slice(-1)[0]&&"object"==typeof n.slice(-1)[0]&&"Array"===n.slice(-1)[0].constructor.name?n.slice(-1)[0].push({transpiled:transpile(e)}):n.push([{transpiled:transpile(e)}])}.call(this)}),n=map(n,function(e){return function(){return e&&"object"==typeof e&&"Array"===e.constructor.name?i(e):e.transpiled}.call(this)}),function(){return 1===n.length?n[0]:[n[0],".concat(",interleave(", ",n.slice(1)),")"]}.call(this)}.call(this)},sibilant.macros.namespaces.core.call=function(e,n){var n=Array.prototype.slice.call(arguments,1);return function(){return any__QUERY(n,function(){return node__QUERY(arguments[0],"dots")})?macros.apply(e,macros.list.apply(this,n)):[transpile(e),"(",interleave(", ",map(n,transpile)),")"]}.call(this)},sibilant.macros.namespaces.core.dots=function(e){var e=Array.prototype.slice.call(arguments,0);return transpile(e)},sibilant.macros.namespaces.core.include=function sibilant$macros$namespaces$core$include$(files){var files=Array.prototype.slice.call(arguments,0);return interleave(files.map(function(file){return sibilant.withDefaultSearchPath(function(){return sibilant.include(eval(outputFormatter(transpile(file))))})}),"\n")},sibilant.macros.namespaces.core.docs=function sibilant$macros$namespaces$core$docs$(options){var options=Array.prototype.slice.call(arguments,0),optionsString=void 0,optionsHash={};return function(){return 1===options.length%2?function(){return node__QUERY(options[0],"string")||"string"==typeof options[0]?optionsString=options.shift():node__QUERY(options.slice(-1)[0],"string")||"string"==typeof options.slice(-1)[0]?optionsString=options.pop():void 0}.call(this):void 0}.call(this),bulkMap(options,function(e,n){return optionsHash[outputFormatter(transpile(e))]=n}),["examples","references"].forEach(function(e){return function(){return optionsHash.hasOwnProperty(e)&&node__QUERY(optionsHash[e],"bracket")?optionsHash[e]=optionsHash[e].contents:void 0}.call(this)}),function(){return optionsHash.hasOwnProperty("example")?(function(){return optionsHash.hasOwnProperty("examples")?error("please provide example OR examples, not both"):void 0}.call(this),optionsHash.examples=[optionsHash.example],delete optionsHash.example):void 0}.call(this),function(){return optionsHash.hasOwnProperty("tags")?optionsHash.tags=eval(outputFormatter(transpile(sibilant.macros.namespaces.core.quote(optionsHash.tags)))):void 0}.call(this),function(){return node__QUERY(optionsString,"string")?optionsHash.docString=eval(outputFormatter(transpile(optionsString))):"string"==typeof optionsString?optionsHash.docString=optionsString:void 0}.call(this),sibilant.docs.lastDoc=optionsHash,null};var node__QUERY=function(e,n){var n=Array.prototype.slice.call(arguments,1);return"undefined"!=typeof e&&null!==e&&"object"==typeof e&&"string"==typeof e.type&&(0===n.length||-1!==n.indexOf(e.type))&&e.hasOwnProperty("contents")},emptyNode__QUERY=function(e){return function(){return node__QUERY(e)?emptyNode__QUERY(e.contents):e&&"object"==typeof e&&"Array"===e.constructor.name?all__QUERY(e,emptyNode__QUERY):"string"==typeof e?e.match(new RegExp("^\\s*$",void 0)):null===e||"undefined"==typeof e||!1===e;
}.call(this)},compactNode=function(e){return function(){if(node__QUERY(e))return e.contents=compactNode(e.contents),function(){return e.contents&&e.contents.length?e:null}.call(this);if(e&&"object"==typeof e&&"Array"===e.constructor.name){var n=compact(map(e,compactNode));return function(){return n&&n.length?n:null}.call(this)}return function(){return""===e||e===!1?null:e}.call(this)}.call(this)},recurseTranspile=function(e){return function(){return e&&"object"==typeof e&&"Array"===e.constructor.name?map(e,recurseTranspile):node__QUERY(e,"output")?mergeInto(e,{contents:recurseTranspile(e.contents)}):node__QUERY(e)?transpile(e):e}.call(this)},transpile=function(e,n){return function(){return"string"==typeof e?e={type:"js",token:e,contents:[]}:"number"==typeof e?e={type:"number",token:e.toString(),contents:[]}:void 0}.call(this),function(){if(e&&"object"==typeof e&&"Array"===e.constructor.name)return e;if("undefined"!=typeof e&&null!==e){var n=transpile[e.type]||transpile["default"],i=n(e),t=recurseTranspile(function(){return node__QUERY(i)?i:{contents:i,type:"output"}}.call(this));return function(){if("undefined"==typeof t)throw console.log(""+e.file+":"+e.line+":"+e.col+"\n"+prettify(e)),console.log(prettify(i)),console.log(prettify(transpile(i))),new Error("Encountered an undefined return from recursive transpile.\nPlease report this bug at https://github.com/jbr/sibilant/issues/new")}.call(this),t.contents=compact(flatten(t.contents)),t.source=e,function(){return 5>sibilant.debug?console.log(prettify(e),red("->"),prettify(t)):void 0}.call(this),function(){return emptyNode__QUERY(t)?void 0:t}.call(this)}}.call(this)};sibilant.transpile=transpile;var readerMacros={};transpile.hat=function(e){var n=e.contents[0].token,i=function(){return n.match(new RegExp("/",void 0))?n.split("/"):[sibilant.macros.searchPath[0],n]}.call(this),t=i[0],s=i[1],i=void 0;return sibilant.macros.namespaces.core.get.call(e,"sibilant.macros.namespaces",sibilant.macros.namespaces.core.quote(transpile.literal({token:t})),sibilant.macros.namespaces.core.quote(transpile.literal({token:s})))},transpile.tick=function(e){return sibilant.macros.namespaces.core.quote.apply(e,e.contents)},transpile.at=function(e){return transpile(e.contents[0])},transpile.dots=function(e){return sibilant.macros.namespaces.core.dots.apply(e,e.contents)},transpile["default"]=function(e){return e.token},transpile.output=function(e){return e},transpile.number=function(e){return parseFloat(e.token.replace(new RegExp(",","g"),"")).toString()},transpile.root=function(e){return function(){return 1===e.contents.length?transpile(e.contents[0]):interleave(compact(map(e.contents,asStatement)),"\n")}.call(this)},transpile.expression=function(e,n){return function(){if(e.contents.length){var n=e.contents[0],i=e.contents,t=sibilant.resolveMacro("call");return function(){if(node__QUERY(n,"string"))return t=sibilant.resolveMacro("concat");if(node__QUERY(n,"dots"))return t=sibilant.resolveMacro("send"),i=[e.contents[1],n.contents[0]].concat(e.contents.slice(2));if(node__QUERY(n,"literal","otherChar")){var s=sibilant.resolveMacro(outputFormatter(transpile(n)));return function(){return s?(n.hint="macro",t=s,i=e.contents.slice(1)):void 0}.call(this)}}.call(this),t.apply(e,i)}return"null"}.call(this)},transpile.bracket=function(e){return sibilant.macros.namespaces.core.list.apply(this,e.contents)},transpile.brace=function(e){return sibilant.macros.namespaces.core.hash.apply(this,e.contents)},transpile.literal=function(e){var n=e.token;return inject(n.replace(new RegExp("\\*","g"),"_").replace(new RegExp("\\?$",void 0),"__QUERY").replace(new RegExp("!$",void 0),"__BANG"),n.match(new RegExp("-(.)","g")),function(e,n){return e.replace(n,n[1].toUpperCase())})},transpile.string=function(e){return e.token.split("\n").join('\\n" +\n"')},transpile.comment=function(e){return null};var docs=sibilant.docs={definitions:[],undocumented:{}};docs.record=function(e,n,i,t){var s=docs.lastDoc;return function(){return"undefined"!=typeof s?(delete sibilant.docs.undocumented[i],sibilant.docs.definitions.push(mergeInto(s,{name:i,type:e,namespace:n,definition:t}))):sibilant.docs.undocumented[i]=!0}.call(this),delete sibilant.docs.lastDoc},docs.tags=function(){var e=flatten(pluck(docs.definitions,"tags")),n={};return e.forEach(function(e){return n[e]=(n[e]||0)+1}),n},docs.text=function docs$text$(){return docs.definitions.map(function(definition){return"name: "+definition.type+" "+definition.namespace+"/"+prettify(definition.name)+"\ndescription: "+definition.docString+"\n"+function(){return definition.references?"references:\n  "+(definition.references.map(function(){return eval(outputFormatter(transpile(arguments[0])))}).join("\n  ")+"\n"):""}.call(this)+function(){return definition.tags?"tags: "+definition.tags.join(", ")+"\n":""}.call(this)+"arguments: "+prettify(definition.definition.contents[2])+"\nexamples: \n"+(definition.examples||[]).map(function(){return prettify(arguments[0],!0)+"\n"+outputFormatter(transpile(arguments[0]))}).join("\n\n")+"\n\n"}).join("")},docs.textNoColor=function(){var e=__webpack_require__(559);return e(docs.text())},docs.json=function(){return JSON.stringify(docs.data())},docs.data=function(){return docs.definitions.map(function(e){return{name:prettify(e.name,!1),namespace:e.namespace,type:e.type,description:e.docString,references:function(){return e.references?e.references.map(function(){return arguments[0].token.slice(1,-1)}):[]}.call(this),arguments:e.definition.contents[2].contents.map(function(){return prettify(arguments[0],!1)}),definition:prettify(e.definition,!1),examples:(e.examples||[]).map(function(){return{javascript:outputFormatter(transpile(arguments[0])),sibilant:prettify(arguments[0],!1)}}),tags:e.tags}})};var sibilize=function(e){sibilant.initialize();var n=outputFormatter(transpile(restructure(parse(e))));return n},sourcemap=function(e){return sibilant.initialize(),sourcemapper(transpile(restructure(parse(e))))};sibilant.sibilize=sibilize,sibilant.version=function(){return sibilant.packageInfo().version},sibilant.stripShebang=function(e){return e.replace(new RegExp("^#!.*\\n",void 0),"\n")},sibilant.file="eval.sibilant";var withDirAndFile=function(e,n,i){var t={dir:sibilant.dir,file:sibilant.file};sibilant.dir=e,sibilant.file=n;var s=i();return sibilant.dir=t.dir,sibilant.file=t.file,s};sibilant.sourceCache={},sibilant.sibilizeFile=function(e){return outputFormatter(sibilant.transpileFile(e))},sibilant.sibilizeJson=function(e){sibilant.initialize();var n=sibilant.quoteHashKeys;sibilant.quoteHashKeys=!0;var i=sibilant.sibilizeFile(e);return sibilant.quoteHashKeys=n,i};var package={name:"sibilant",version:"0.4.0",keywords:["lisp","javascript","language"],description:"javascript with a lisp",contributors:["Jacob Rothstein <hi@jbr.me> (http://jbr.me)","Matthew Phillips (http://www.matthewphillips.info/)","Yuest Wang (http://yue.st/)","Lyndon Tremblay (http://www.hoovy.org)","David Sargeant (https://github.com/dubiousdavid)"],repository:{type:"git",url:"http://github.com/jbr/sibilant.git"},bugs:{mail:"sibilant@librelist.com",url:"http://github.com/jbr/sibilant/issues"},bin:{sibilant:"./bin/sibilant"},main:"./lib/sibilant.js",license:"MIT",devDependencies:{stool:">=0.0.7",diff:">=2.2.1",colors:">=1.1.2",cardinal:">=0.6.0"},dependencies:{"source-map":">=0.5.3","source-map-support":">=0.3.3"},scripts:{test:"bin/sibilant -x stool.sibilant -- test"}};sibilant.packageInfo=function(){return package},sibilant.versionString=function(){return package.name+" browser version "+package.version},sibilant.dir="browser",sibilant.initialize=function(){return!1};var evalCode=function(e){return new Function(e)()};return sibilant.include=function(e){return $.get(e).done(function(){return evalCode(sibilize(arguments[0]))})},function(){return"function"==typeof $?$(function(){return map($.makeArray($('script[type="application/sibilant"][src]').map(function(){return this.src})),sibilant.include)}):void 0}.call(this),sibilant}.call(this)},559:function(e,n,i){"use strict";var t=i(560)();e.exports=function(e){return"string"==typeof e?e.replace(t,""):e}},560:function(e,n){"use strict";e.exports=function(){return/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g}}});
//# sourceMappingURL=worker.bundle.js.map
!function(modules){function __webpack_require__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={exports:{},id:moduleId,loaded:!1};return modules[moduleId].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var installedModules={};return __webpack_require__.m=modules,__webpack_require__.c=installedModules,__webpack_require__.p="",__webpack_require__(0)}({0:function(module,exports,__webpack_require__){var commands={},sibilant=__webpack_require__(792).sibilant,serialize=__webpack_require__(795);commands.sibilize=function commands$sibilize$(sibilantCode){return sibilant.sibilize(sibilantCode)},commands.evaluate=function commands$evaluate$(sibilantCode){return serialize(new Function(sibilant.sibilize("(do "+sibilantCode+")"))())};var onMessage=function onMessage$(e){var identifier=e.data[0],command=e.data[1],data=e.data[2],commandFn=commands[command],returnValue={};return function(){try{return returnValue.result=commandFn.apply(this,data)}catch(e){return returnValue.error=e.message}}.call(this),postMessage([identifier,returnValue])};onmessage=onMessage},792:function(module,exports,__webpack_require__){this.sibilant=function(){var sibilant={},exports=sibilant,error=function error$(str){throw str},inspect=function inspect$(item){return function(){return item.toSource?item.toSource():item.toString()}.call(this)},bulkMap=function bulkMap$(arr,fn){var index=0,groupSize=fn.length,retArr=[];return function(){for(var while$5=void 0;index<arr.length;)while$5=function(){return retArr.push(fn.apply(this,arr.slice(index,index+groupSize))),index+=groupSize}.call(this);return while$5}.call(this),retArr},inject=function inject$(start,items,fn){return function(){return items&&"object"==typeof items&&"Array"===items.constructor.name?items.reduce(fn,start):start}.call(this)},map=function map$(items,fn){return function(){return items&&"object"==typeof items&&"Array"===items.constructor.name?items.map(fn):[]}.call(this)},select=function select$(items,fn){return function(){return items&&"object"==typeof items&&"Array"===items.constructor.name?items.filter(fn):[]}.call(this)},detect=function detect$(items,fn){return function(){return items&&"object"==typeof items&&"Array"===items.constructor.name?items.find(fn):void 0}.call(this)},all__QUERY=function all__QUERY$(items,fn){return function(){return items&&"object"==typeof items&&"Array"===items.constructor.name?items.every(fn):void 0}.call(this)},none__QUERY=function none__QUERY$(items,fn){return function(){return items&&"object"==typeof items&&"Array"===items.constructor.name?!items.some(fn):void 0}.call(this)},any__QUERY=function any__QUERY$(items,fn){return function(){return items&&"object"==typeof items&&"Array"===items.constructor.name?items.some(fn):void 0}.call(this)},reject=function reject$(items,fn){return select(items,function(){return!fn.apply(this,arguments)})},compact=function compact$(arr){return select(arr,function(item){return null!==item&&!1!==item&&"undefined"!=typeof item})},unique=function unique$(arr){return inject([],arr,function(coll,item){return function(){return-1!==coll.indexOf(item)?coll:coll.concat([item])}.call(this)})},interleave=function interleave$(glue,arr){return function(){if("string"==typeof arr&&glue&&"object"==typeof glue&&"Array"===glue.constructor.name){var temp=glue;return glue=arr,arr=temp}}.call(this),function(){return glue&&"object"==typeof glue&&"Array"===glue.constructor.name?inject([],arr,function(collector,item,index){return collector.concat([item,glue[index]])}):inject([arr[0]],arr.slice(1),function(collector,item,index){return collector.concat([glue,item])})}.call(this)},flatten=function flatten$(items,predicate){return function(){return items&&"object"==typeof items&&"Array"===items.constructor.name?inject([],items,function(collector,item){return function(){return!predicate||predicate(item)?collector.concat(function(){return item&&"object"==typeof item&&"Array"===item.constructor.name?flatten(item,predicate):item}.call(this)):collector}.call(this)}):!predicate||predicate(items)?[items]:[]}.call(this)},flatCompact=function flatCompact$(items){return flatten(items,function(item){return null!==item&&!1!==item&&"undefined"!=typeof item})},recurseMap=function recurseMap$(item,fn){return function(){return item&&"object"==typeof item&&"Array"===item.constructor.name?map(item,function(subitem){return recurseMap(subitem,fn)}):fn(item)}.call(this)},pluck=function pluck$(items,attribute){return map(items,function(item){return item[attribute]})},mergeInto=function mergeInto$(into,from){return Object.keys(from).forEach(function(key){return into[key]=from[key]}),into},clone=function clone$(object){return inject({},Object.keys(object),function(collector,key){return collector[key]=object[key],collector})},values=function values$(object){return map(Object.keys(object),function(){return object[arguments[0]]})},mapValues=function mapValues$(object,fn){return inject({},Object.keys(object),function(collector,key,index){return collector[key]=fn(object[key],key),collector})},mergeWith=function mergeWith$(into,from){return mergeInto(clone(into),from)},log__BANG=function log__BANG$(args){var args=Array.prototype.slice.call(arguments,0);return inspect__BANG.apply(this,args).forEach(function(){return console.log(arguments[0])})},inspect__BANG=function inspect__BANG$(args){var args=Array.prototype.slice.call(arguments,0);return args.map(function(){return util.inspect(arguments[0],{colors:!1,depth:3})})},color=function color$(code,items,depth){return code+items.join("")+"[0m"},black=function black$(args){var args=Array.prototype.slice.call(arguments,0);return color("[0;30m",args)},red=function red$(args){var args=Array.prototype.slice.call(arguments,0);return color("[0;31m",args)},green=function green$(args){var args=Array.prototype.slice.call(arguments,0);return color("[0;32m",args)},brown=function brown$(args){var args=Array.prototype.slice.call(arguments,0);return color("[0;33m",args)},blue=function blue$(args){var args=Array.prototype.slice.call(arguments,0);return color("[0;34m",args)},purple=function purple$(args){var args=Array.prototype.slice.call(arguments,0);return color("[0;35m",args)},cyan=function cyan$(args){var args=Array.prototype.slice.call(arguments,0);return color("[0;36m",args)},gray=function gray$(args){var args=Array.prototype.slice.call(arguments,0);return color("[0;37m",args)},boldGray=function boldGray$(args){var args=Array.prototype.slice.call(arguments,0);return color("[1;30m",args)},boldRed=function boldRed$(args){var args=Array.prototype.slice.call(arguments,0);return color("[1;31m",args)},boldGreen=function boldGreen$(args){var args=Array.prototype.slice.call(arguments,0);return color("[1;32m",args)},yellow=function yellow$(args){var args=Array.prototype.slice.call(arguments,0);return color("[1;33m",args)},boldBlue=function boldBlue$(args){var args=Array.prototype.slice.call(arguments,0);return color("[1;34m",args)},boldPurple=function boldPurple$(args){var args=Array.prototype.slice.call(arguments,0);return color("[1;35m",args)},boldCyan=function boldCyan$(args){var args=Array.prototype.slice.call(arguments,0);return color("[1;36m",args)},white=function white$(args){var args=Array.prototype.slice.call(arguments,0);return color("[1;37m",args)};sibilant.prettyPrint=function sibilant$prettyPrint$(node,color,entry){return entry="undefined"!=typeof entry?entry:!0,color="undefined"!=typeof color?color:!0,realNewlines(function(){if(node__QUERY(node)){var prettyPrinter=sibilant.prettyPrint[node.type]||sibilant.prettyPrint["default"];return prettyPrinter(node,color,entry)}return node&&"object"==typeof node&&"Array"===node.constructor.name?function(){return color?black("["):""}.call(this)+map(node,function(){return prettify(arguments[0],color,!1)}).join(function(){return color?black(","):""}.call(this))+function(){return color?black("]"):""}.call(this):color?red(inspect(node)):realNewlines(inspect(node))}.call(this))};var prettify=sibilant.prettyPrint;sibilant.prettyPrint["default"]=function sibilant$prettyPrint$default$(node,color,entry){var mapPretty=function mapPretty$(attr){var arr=node[attr];return function(){return arr&&arr.length?map(arr,function(){return prettify(arguments[0],color,!1)}).join(""):""}.call(this)};return realNewlines(sibilant.prettyPrint.colorize(node,color,function(){return entry?"":mapPretty("precedingIgnored")}.call(this)+mapPretty("modifiers")+node.token+mapPretty("contents")+mapPretty("closingIgnored")+(node.closed&&acceptablePairs[node.token]||"")))},sibilant.prettyPrint.root=function sibilant$prettyPrint$root$(node,color,entry){return map(node.contents,function(){return prettify(arguments[0],color,!1)}).join("\n")},sibilant.prettyPrint.output=function sibilant$prettyPrint$output$(node,color){return function(){return color?black("{"):""}.call(this)+function(){return node.contents&&"object"==typeof node.contents&&"Array"===node.contents.constructor.name?map(node.contents,function(){return sibilant.prettyPrint.colorize(node,color,prettify(arguments[0],color,!1))}).join(function(){return color?black(","):""}.call(this)):sibilant.prettyPrint.colorize(node,color,node.contents)}.call(this)+function(){return color?black("}"):""}.call(this)};var realNewlines=function realNewlines$(node){return node.split("\\n").join("\n")};sibilant.prettyPrint.colorize=function sibilant$prettyPrint$colorize$(node,color,string){return function(){return color?"macro"===node.hint?yellow(string):node__QUERY(node,"output")?purple(string):green(string):string}.call(this)};var outputFormatter=function outputFormatter$(node){return function(){return node&&"object"==typeof node&&"Array"===node.constructor.name?map(node,outputFormatter).join(""):node__QUERY(node,"output")?outputFormatter(node.contents):"string"==typeof node||"number"==typeof node?node:"undefined"==typeof node||null===node?"":node__QUERY(node)?(console.log("warning: We ran into an unexpected node that never got transpiled at "+node.file+":"+node.line+":"+node.col+"."),outputFormatter(transpile(node))):void 0}.call(this)};sibilant.outputFormatter=outputFormatter;var bulkMap=function bulkMap$(arr,fn){var index=0,groupSize=fn.length,retArr=[];return function(){for(var while$6=void 0;index<arr.length;)while$6=function(){return retArr.push(fn.apply(this,arr.slice(index,index+groupSize))),index+=groupSize}.call(this);return while$6}.call(this),retArr},inject=function inject$(start,items,fn){return function(){return items&&"object"==typeof items&&"Array"===items.constructor.name?items.reduce(fn,start):start}.call(this)},map=function map$(items,fn){return function(){return items&&"object"==typeof items&&"Array"===items.constructor.name?items.map(fn):[]}.call(this)},select=function select$(items,fn){return function(){return items&&"object"==typeof items&&"Array"===items.constructor.name?items.filter(fn):[]}.call(this)},detect=function detect$(items,fn){return function(){return items&&"object"==typeof items&&"Array"===items.constructor.name?items.find(fn):void 0}.call(this)},all__QUERY=function all__QUERY$(items,fn){return function(){return items&&"object"==typeof items&&"Array"===items.constructor.name?items.every(fn):void 0}.call(this)},none__QUERY=function none__QUERY$(items,fn){return function(){return items&&"object"==typeof items&&"Array"===items.constructor.name?!items.some(fn):void 0}.call(this)},any__QUERY=function any__QUERY$(items,fn){return function(){return items&&"object"==typeof items&&"Array"===items.constructor.name?items.some(fn):void 0}.call(this)},reject=function reject$(items,fn){return select(items,function(){return!fn.apply(this,arguments)})},compact=function compact$(arr){return select(arr,function(item){return null!==item&&!1!==item&&"undefined"!=typeof item})},unique=function unique$(arr){return inject([],arr,function(coll,item){return function(){return-1!==coll.indexOf(item)?coll:coll.concat([item])}.call(this)})},interleave=function interleave$(glue,arr){return function(){if("string"==typeof arr&&glue&&"object"==typeof glue&&"Array"===glue.constructor.name){var temp=glue;return glue=arr,arr=temp}}.call(this),function(){return glue&&"object"==typeof glue&&"Array"===glue.constructor.name?inject([],arr,function(collector,item,index){return collector.concat([item,glue[index]])}):inject([arr[0]],arr.slice(1),function(collector,item,index){return collector.concat([glue,item])})}.call(this)},flatten=function flatten$(items,predicate){return function(){return items&&"object"==typeof items&&"Array"===items.constructor.name?inject([],items,function(collector,item){return function(){return!predicate||predicate(item)?collector.concat(function(){return item&&"object"==typeof item&&"Array"===item.constructor.name?flatten(item,predicate):item}.call(this)):collector}.call(this)}):!predicate||predicate(items)?[items]:[]}.call(this)},flatCompact=function flatCompact$(items){return flatten(items,function(item){return null!==item&&!1!==item&&"undefined"!=typeof item})},recurseMap=function recurseMap$(item,fn){return function(){return item&&"object"==typeof item&&"Array"===item.constructor.name?map(item,function(subitem){return recurseMap(subitem,fn)}):fn(item)}.call(this)},pluck=function pluck$(items,attribute){return map(items,function(item){return item[attribute]})},mergeInto=function mergeInto$(into,from){return Object.keys(from).forEach(function(key){return into[key]=from[key]}),into},clone=function clone$(object){return inject({},Object.keys(object),function(collector,key){return collector[key]=object[key],collector})},values=function values$(object){return map(Object.keys(object),function(){return object[arguments[0]]})},mapValues=function mapValues$(object,fn){return inject({},Object.keys(object),function(collector,key,index){return collector[key]=fn(object[key],key),collector})},mergeWith=function mergeWith$(into,from){return mergeInto(clone(into),from)},parser={};sibilant.parser=parser,parser.tokens={regex:"(\\/(\\\\\\/|[^\\/\\n])+\\/[glim]*)",comment:"(;.*)",string:'("(([^"]|(\\\\"))*[^\\\\])?")',number:"(-?[0-9][0-9.,]*)",literal:"(-?[*.$a-zA-Z_][/*.a-zA-Z0-9-_]*(\\?|!)?)",special:"([&'])",at:"@",tick:"[`']",hat:"(\\^)",dots:"(\\.+)",argPlaceholder:"(#[0-9]+)",otherChar:"([\\|#><=!\\+\\/\\*-]+)",openExpression:"(\\(|\\{|\\[)",closeExpression:"(\\)|\\}|\\])",newline:"\\n",whitespace:"\\s+",ignored:"."},parser.tokenPrecedence=["regex","comment","string","number","dots","tick","hat","at","special","literal","argPlaceholder","otherChar","openExpression","closeExpression","newline","whitespace","ignored"],parser.orderedRegexes=parser.tokenPrecedence.map(function(x){return mergeInto(new RegExp("^"+parser.tokens[x],void 0),{name:x})});var orderedRegexes=parser.orderedRegexes;parser.parse=function parser$parse$(string,context){context="undefined"!=typeof context?context:{position:0,stack:[],line:1,lastNewline:0,col:0};var match=!0,regexName=null,remainingInput=string;return function(){for(var while$7=void 0;match;)while$7=function(){return detect(orderedRegexes,function(r){return regexName=r.name,match=r.exec(remainingInput)}),function(){if("undefined"!=typeof match&&null!==match){var matchString=match[0],length=matchString.length;return context.stack.push({file:sibilant.file,token:matchString,type:regexName,line:context.line,col:context.col,contents:[]}),function(){if("newline"===regexName)return context.line++,context.col=0,context.lastNewline=context.position;if("string"===regexName&&-1!==matchString.indexOf("\n")){var stringNewlineCount=matchString.split("\n").length-1;return context.line+=stringNewlineCount,context.col=length-matchString.lastIndexOf("\n")}return context.col+=length}.call(this),context.position+=length,remainingInput=function(){return remainingInput&&remainingInput.length?remainingInput.slice(length):""}.call(this)}}.call(this)}.call(this);return while$7}.call(this),context.stack};var parse=parser.parse,restructurers={},acceptablePairs={"(":")","[":"]","{":"}"},bracketTypes={"(":"expression","[":"bracket","{":"brace"},restructure=function restructure$(input){var output={type:"root",contents:[],file:sibilant.file,col:0,line:1},context={parseStack:[output],output:output,input:input,ignoredTokens:[],specials:0};return inject(context,input,function(context,token,index){var restructurer=restructurers[token.type]||restructurers["default"];return restructurer(token,context,index)}),function(){if(1!==context.parseStack.length){var unclosedNode=context.parseStack[0];throw new Error("unclosed node at "+unclosedNode.file+":"+unclosedNode.line+":"+unclosedNode.col+"\n  "+prettify(unclosedNode,!1).slice(0,100))}}.call(this),output};sibilant.restructure=restructure,restructurers.openExpression=function restructurers$openExpression$(token,context){var first=context.parseStack[0];return token.contents=[],token.type=bracketTypes[token.token],acceptIgnoredTokens(token,context),acceptSpecials(token,context),first.contents.push(token),context.parseStack.unshift(token),context},restructurers.closeExpression=function restructurers$closeExpression$(node,context,index){var first=context.parseStack[0];return function(){if(node__QUERY(first,"root"))throw new Error("unexpected "+node.token+" on "+node.file+":"+node.line+":"+node.col)}.call(this),function(){if(acceptablePairs[first.token]!==node.token)throw new Error("trying to close "+yellow(sibilant.prettyPrint(first))+"\n   on "+first.file+":"+first.line+":"+first.col+"\n   with "+sibilant.prettyPrint(node)+"\n   on "+node.file+":"+node.line+":"+node.col+"\n")}.call(this),first.end=node.end,first.closed=!0,first.closingIgnored=context.ignoredTokens,context.ignoredTokens=[],context.parseStack.shift(),closeSpecials(first,context),function(){if(0===context.parseStack.length)throw new Error("unbalanced parens:\n"+inspect(parseStack))}.call(this),context};var openSpecial=function openSpecial$(node,context){context.specials++,acceptIgnoredTokens(node,context);var first=context.parseStack[0];return node.contents=[],first.contents.push(node),context.parseStack.unshift(node),context},acceptSpecials=function acceptSpecials$(node,context){return node.specials=context.specials,context.specials=0,context},acceptIgnoredTokens=function acceptIgnoredTokens$(node,context){return node.precedingIgnored=context.ignoredTokens,context.ignoredTokens=[],context},closeSpecials=function closeSpecials$(node,context){return function(){return node.specials>0?(node.specials--,context.parseStack.shift(),closeSpecials(node,context)):void 0}.call(this),context},accumulateIgnoredToken=function accumulateIgnoredToken$(token,context,index){return context.ignoredTokens.push(token),context};["hat","dots","tick","at"].forEach(function(special){return restructurers[special]=openSpecial}),["whitespace","newline","ignored","comment"].forEach(function(ignored){return restructurers[ignored]=accumulateIgnoredToken}),restructurers["default"]=function restructurers$default$(token,context,index){return acceptSpecials(token,context),acceptIgnoredTokens(token,context),context.parseStack[0].contents.push(token),closeSpecials(token,context)};var coreNamespace={},macroNamespaces={core:coreNamespace};sibilant.state={symbolCount:0,functionComments:!0},sibilant.macros={namespaces:macroNamespaces,defaultSearchPath:["core"],searchPath:["core"],namespace:coreNamespace};var namespace=sibilant.macros.namespace,macros=sibilant.macros.namespace;sibilant.macros.currentNamespace=function sibilant$macros$currentNamespace$(){return sibilant.macros.namespaces[sibilant.macros.searchPath[0]]},sibilant.resolveMacro=function sibilant$resolveMacro$(macroName){return function(){if(-1!==macroName.indexOf("/")&&1<macroName.length&&-1===macroName.indexOf("\n")){var pathComponents=macroName.split("/"),macro=sibilant.macros.namespaces.hasOwnProperty(pathComponents[0])&&sibilant.macros.namespaces[pathComponents[0]][pathComponents.slice(1).join("/")];return function(){return macro?macro:error("called namespaced macro "+macroName+" but could not find namespace "+pathComponents[0]+". you might need to include the file that defines it first.")}.call(this)}var namespace=detect(sibilant.macros.searchPath,function(namespace){return sibilant.macros.namespaces[namespace].hasOwnProperty(macroName)});return function(){return namespace?sibilant.macros.namespaces[namespace][macroName]:void 0}.call(this)}.call(this)},sibilant.withDefaultSearchPath=function sibilant$withDefaultSearchPath$(fn){var searchPathBefore=sibilant.macros.searchPath;sibilant.macros.searchPath=sibilant.macros.defaultSearchPath;var returnValue=fn();return sibilant.macros.searchPath=searchPathBefore,returnValue},sibilant.macros.namespaces.core.statement__BANG=function statement__BANG$(node){return function(){return emptyNode__QUERY(transpiled)?void 0:[node,";"]}.call(this)},sibilant.macros.namespaces.core.ternary=function ternary$(cond,ifTrue,ifFalse){return["(",transpile(cond),") ? ",transpile(ifTrue)," : ",transpile(ifFalse)]},sibilant.macros.namespaces.core.aliasMacro=function aliasMacro$(currentMacroName,newMacroName){var currentMacroName=outputFormatter(transpile(currentMacroName)),newMacroName=outputFormatter(transpile(newMacroName));return sibilant.macros.namespace[newMacroName]=sibilant.macros.namespace[currentMacroName],null},sibilant.macros.namespaces.core.send=function send$(object,method,args){var args=Array.prototype.slice.call(arguments,2);return[transpile(object),".",transpile(method),"(",interleave(", ",map(args,transpile)),")"]},sibilant.macros.namespaces.core.apply=function apply$(fn,arglist){return{file:"include/macros.sibilant",token:"(",type:"expression",line:56,col:8,contents:[{file:"include/macros.sibilant",token:".",type:"dots",line:56,col:9,contents:[{file:"include/macros.sibilant",token:"apply",type:"literal",line:56,col:10,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},fn,{file:"include/macros.sibilant",token:"this",type:"literal",line:56,col:20,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:56,col:19,contents:[]}]},arglist],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.cons=function cons$(first,rest){return["[ ",transpile(first)," ].concat(",transpile(rest),")"]},sibilant.macros.namespaces.core.append=function append$(list,additional){var additional=Array.prototype.slice.call(arguments,1);return{file:"include/macros.sibilant",token:"(",type:"expression",line:77,col:8,contents:[{file:"include/macros.sibilant",token:".",type:"dots",line:77,col:9,contents:[{file:"include/macros.sibilant",token:"concat",type:"literal",line:77,col:10,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},list,{file:"include/macros.sibilant",token:"(",type:"expression",line:77,col:23,contents:[{file:"include/macros.sibilant",token:"list",type:"literal",line:77,col:24,contents:[],specials:0,precedingIgnored:[]}].concat(additional),precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:77,col:22,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.length=function length$(arr){return{file:"include/macros.sibilant",token:"(",type:"expression",line:84,col:8,contents:[{file:"include/macros.sibilant",token:"get",type:"literal",line:84,col:9,contents:[],specials:0,precedingIgnored:[]},arr,{file:"include/macros.sibilant",token:"'",type:"tick",line:84,col:18,contents:[{file:"include/macros.sibilant",token:"length",type:"literal",line:84,col:19,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:84,col:17,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.scoped=function scoped$(body){var body=Array.prototype.slice.call(arguments,0);return{file:"include/macros.sibilant",token:"(",type:"expression",line:91,col:8,contents:[{file:"include/macros.sibilant",token:".",type:"dots",line:91,col:9,contents:[{file:"include/macros.sibilant",token:"call",type:"literal",line:91,col:10,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:91,col:15,contents:[{file:"include/macros.sibilant",token:"lambda",type:"literal",line:91,col:16,contents:[],specials:0,precedingIgnored:[]},{node:this,args:[]}].concat(body),precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:91,col:14,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{file:"include/macros.sibilant",token:"this",type:"literal",line:91,col:54,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:91,col:53,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.first=function first$(arr){return{file:"include/macros.sibilant",token:"(",type:"expression",line:96,col:20,contents:[{file:"include/macros.sibilant",token:"get",type:"literal",line:96,col:21,contents:[],specials:0,precedingIgnored:[]},arr,{file:"include/macros.sibilant",token:"0",type:"number",line:96,col:30,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:96,col:29,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.second=function second$(arr){return{file:"include/macros.sibilant",token:"(",type:"expression",line:101,col:21,contents:[{file:"include/macros.sibilant",token:"get",type:"literal",line:101,col:22,contents:[],specials:0,precedingIgnored:[]},arr,{file:"include/macros.sibilant",token:"1",type:"number",line:101,col:31,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:101,col:30,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.third=function third$(arr){return{file:"include/macros.sibilant",token:"(",type:"expression",line:106,col:20,contents:[{file:"include/macros.sibilant",token:"get",type:"literal",line:106,col:21,contents:[],specials:0,precedingIgnored:[]},arr,{file:"include/macros.sibilant",token:"2",type:"number",line:106,col:30,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:106,col:29,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.rest=function rest$(arr){return{file:"include/macros.sibilant",token:"(",type:"expression",line:112,col:19,contents:[{file:"include/macros.sibilant",token:".",type:"dots",line:112,col:20,contents:[{file:"include/macros.sibilant",token:"slice",type:"literal",line:112,col:21,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},arr,{file:"include/macros.sibilant",token:"1",type:"number",line:112,col:32,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:112,col:31,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.last=function last$(arr){return{file:"include/macros.sibilant",token:"(",type:"expression",line:117,col:19,contents:[{file:"include/macros.sibilant",token:"first",type:"literal",line:117,col:20,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:117,col:26,contents:[{file:"include/macros.sibilant",token:".",type:"dots",line:117,col:27,contents:[{file:"include/macros.sibilant",token:"slice",type:"literal",line:117,col:28,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},arr,{file:"include/macros.sibilant",token:"-1",type:"number",line:117,col:39,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:117,col:38,contents:[]}]}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:117,col:25,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["+"]=function $$(args){var args=Array.prototype.slice.call(arguments,0);return["(",interleave(" + ",map(args,transpile)),")"]},sibilant.macros.namespaces.core.concat=sibilant.macros.namespaces.core["+"],sibilant.macros.namespaces.core["-"]=function $$(args){var args=Array.prototype.slice.call(arguments,0);return["(",interleave(" - ",map(args,transpile)),")"]},sibilant.macros.namespaces.core._=function _$(args){var args=Array.prototype.slice.call(arguments,0);return["(",interleave(" * ",map(args,transpile)),")"]},sibilant.macros.namespaces.core["/"]=function $$(args){var args=Array.prototype.slice.call(arguments,0);return["(",interleave(" / ",map(args,transpile)),")"]},sibilant.macros.namespaces.core.or=function or$(args){var args=Array.prototype.slice.call(arguments,0);return["(",interleave(" || ",map(args,transpile)),")"]},sibilant.macros.namespaces.core.and=function and$(args){var args=Array.prototype.slice.call(arguments,0);return 1===args.length?transpile(args[0]):["(",interleave(" && ",map(args,transpile)),")"]},sibilant.macros.namespaces.core.mod=function mod$(args){var args=Array.prototype.slice.call(arguments,0);return["(",interleave(" % ",map(args,transpile)),")"]},sibilant.macros.namespaces.core[">"]=function $$(args){var args=Array.prototype.slice.call(arguments,0),jsComparator=">";return{file:"include/macros.sibilant",token:"(",type:"expression",line:205,col:8,contents:[{file:"include/macros.sibilant",token:"and",type:"literal",line:205,col:9,contents:[],specials:0,precedingIgnored:[]}].concat(map(args.slice(0,-1),function(item,index){return[item," ",jsComparator," ",args[1+index]]})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["<"]=function $$(args){var args=Array.prototype.slice.call(arguments,0),jsComparator="<";return{file:"include/macros.sibilant",token:"(",type:"expression",line:212,col:8,contents:[{file:"include/macros.sibilant",token:"and",type:"literal",line:212,col:9,contents:[],specials:0,precedingIgnored:[]}].concat(map(args.slice(0,-1),function(item,index){return[item," ",jsComparator," ",args[1+index]]})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["<="]=function $$(args){var args=Array.prototype.slice.call(arguments,0),jsComparator="<=";return{file:"include/macros.sibilant",token:"(",type:"expression",line:218,col:8,contents:[{file:"include/macros.sibilant",token:"and",type:"literal",line:218,col:9,contents:[],specials:0,precedingIgnored:[]}].concat(map(args.slice(0,-1),function(item,index){return[item," ",jsComparator," ",args[1+index]]})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core[">="]=function $$(args){var args=Array.prototype.slice.call(arguments,0),jsComparator=">=";return{file:"include/macros.sibilant",token:"(",type:"expression",line:224,col:8,contents:[{file:"include/macros.sibilant",token:"and",type:"literal",line:224,col:9,contents:[],specials:0,precedingIgnored:[]}].concat(map(args.slice(0,-1),function(item,index){return[item," ",jsComparator," ",args[1+index]]})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["!="]=function $$(args){var args=Array.prototype.slice.call(arguments,0),jsComparator="!==";return{file:"include/macros.sibilant",token:"(",type:"expression",line:229,col:8,contents:[{file:"include/macros.sibilant",token:"and",type:"literal",line:229,col:9,contents:[],specials:0,precedingIgnored:[]}].concat(map(args.slice(0,-1),function(item,index){return[item," ",jsComparator," ",args[1+index]]})),precedingIgnored:[],
specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["="]=function $$(args){var args=Array.prototype.slice.call(arguments,0),jsComparator="===";return{file:"include/macros.sibilant",token:"(",type:"expression",line:235,col:8,contents:[{file:"include/macros.sibilant",token:"and",type:"literal",line:235,col:9,contents:[],specials:0,precedingIgnored:[]}].concat(map(args.slice(0,-1),function(item,index){return[item," ",jsComparator," ",args[1+index]]})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.incrBy=function incrBy$(item,increment){return[transpile(item)," += ",transpile(increment)]},sibilant.macros.namespaces.core.incr=function incr$(item){return["((",transpile(item),")++)"]},sibilant.macros.namespaces.core.decr=function decr$(item){return["((",transpile(item),")--)"]},sibilant.macros.namespaces.core["new"]=function new$(constructor,args){var args=Array.prototype.slice.call(arguments,1);return["(new ",{file:"include/macros.sibilant",token:"(",type:"expression",line:267,col:17,contents:[{file:"include/macros.sibilant",token:"call",type:"literal",line:267,col:18,contents:[],specials:0,precedingIgnored:[]},constructor].concat(args),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]},")"]},sibilant.macros.namespaces.core.regex=function regex$(pattern,flags){return{file:"include/macros.sibilant",token:"(",type:"expression",line:275,col:8,contents:[{file:"include/macros.sibilant",token:"new",type:"literal",line:275,col:9,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"RegExp",type:"literal",line:275,col:13,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:275,col:12,contents:[]}]},pattern,flags||"undefined"],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.zero__QUERY=function zero__QUERY$(item){return{file:"include/macros.sibilant",token:"(",type:"expression",line:282,col:21,contents:[{file:"include/macros.sibilant",token:"=",type:"otherChar",line:282,col:22,contents:[],specials:0,precedingIgnored:[]},item,{file:"include/macros.sibilant",token:"0",type:"number",line:282,col:30,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:282,col:29,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.empty__QUERY=function empty__QUERY$(arr){return{file:"include/macros.sibilant",token:"(",type:"expression",line:289,col:8,contents:[{file:"include/macros.sibilant",token:"=",type:"otherChar",line:289,col:9,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"0",type:"number",line:289,col:11,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:289,col:10,contents:[]}]},{file:"include/macros.sibilant",token:"(",type:"expression",line:289,col:13,contents:[{file:"include/macros.sibilant",token:"length",type:"literal",line:289,col:14,contents:[],specials:0,precedingIgnored:[]},arr],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:289,col:12,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.odd__QUERY=function odd__QUERY$(number){return{file:"include/macros.sibilant",token:"(",type:"expression",line:296,col:8,contents:[{file:"include/macros.sibilant",token:"=",type:"otherChar",line:296,col:9,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"1",type:"number",line:296,col:11,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:296,col:10,contents:[]}]},{file:"include/macros.sibilant",token:"(",type:"expression",line:296,col:13,contents:[{file:"include/macros.sibilant",token:"mod",type:"literal",line:296,col:14,contents:[],specials:0,precedingIgnored:[]},number,{file:"include/macros.sibilant",token:"2",type:"number",line:296,col:26,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:296,col:25,contents:[]}]}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:296,col:12,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.even__QUERY=function even__QUERY$(number){return{file:"include/macros.sibilant",token:"(",type:"expression",line:303,col:8,contents:[{file:"include/macros.sibilant",token:"=",type:"otherChar",line:303,col:9,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"0",type:"number",line:303,col:11,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:303,col:10,contents:[]}]},{file:"include/macros.sibilant",token:"(",type:"expression",line:303,col:13,contents:[{file:"include/macros.sibilant",token:"mod",type:"literal",line:303,col:14,contents:[],specials:0,precedingIgnored:[]},number,{file:"include/macros.sibilant",token:"2",type:"number",line:303,col:26,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:303,col:25,contents:[]}]}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:303,col:12,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["typeof"]=function typeof$(thing){return["typeof ",transpile(thing)]},sibilant.macros.namespaces.core.string__QUERY=function string__QUERY$(things){var things=Array.prototype.slice.call(arguments,0);return{file:"include/macros.sibilant",token:"(",type:"expression",line:317,col:8,contents:[{file:"include/macros.sibilant",token:"and",type:"literal",line:317,col:9,contents:[],specials:0,precedingIgnored:[]}].concat(map(things,function(thing){return{file:"include/macros.sibilant",token:"(",type:"expression",line:317,col:40,contents:[{file:"include/macros.sibilant",token:"=",type:"otherChar",line:317,col:41,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:317,col:43,contents:[{file:"include/macros.sibilant",token:"typeof",type:"literal",line:317,col:44,contents:[],specials:0,precedingIgnored:[]},thing],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:317,col:42,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{file:"include/macros.sibilant",token:"'",type:"tick",line:317,col:59,contents:[{file:"include/macros.sibilant",token:"string",type:"literal",line:317,col:60,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:317,col:58,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.function__QUERY=function function__QUERY$(things){var things=Array.prototype.slice.call(arguments,0);return{file:"include/macros.sibilant",token:"(",type:"expression",line:324,col:8,contents:[{file:"include/macros.sibilant",token:"and",type:"literal",line:324,col:9,contents:[],specials:0,precedingIgnored:[]}].concat(map(things,function(thing){return{file:"include/macros.sibilant",token:"(",type:"expression",line:324,col:40,contents:[{file:"include/macros.sibilant",token:"=",type:"otherChar",line:324,col:41,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:324,col:43,contents:[{file:"include/macros.sibilant",token:"typeof",type:"literal",line:324,col:44,contents:[],specials:0,precedingIgnored:[]},thing],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:324,col:42,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{file:"include/macros.sibilant",token:"'",type:"tick",line:324,col:59,contents:[{file:"include/macros.sibilant",token:"function",type:"literal",line:324,col:60,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:324,col:58,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.undefined__QUERY=function undefined__QUERY$(things){var things=Array.prototype.slice.call(arguments,0);return{file:"include/macros.sibilant",token:"(",type:"expression",line:334,col:8,contents:[{file:"include/macros.sibilant",token:"and",type:"literal",line:334,col:9,contents:[],specials:0,precedingIgnored:[]}].concat(map(things,function(thing){return{file:"include/macros.sibilant",token:"(",type:"expression",line:334,col:40,contents:[{file:"include/macros.sibilant",token:"=",type:"otherChar",line:334,col:41,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:334,col:43,contents:[{file:"include/macros.sibilant",token:"typeof",type:"literal",line:334,col:44,contents:[],specials:0,precedingIgnored:[]},thing],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:334,col:42,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{file:"include/macros.sibilant",token:"'",type:"tick",line:334,col:59,contents:[{file:"include/macros.sibilant",token:"undefined",type:"literal",line:334,col:60,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:334,col:58,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.defined__QUERY=function defined__QUERY$(things){var things=Array.prototype.slice.call(arguments,0);return{file:"include/macros.sibilant",token:"(",type:"expression",line:343,col:8,contents:[{file:"include/macros.sibilant",token:"and",type:"literal",line:343,col:9,contents:[],specials:0,precedingIgnored:[]}].concat(map(things,function(thing){return{file:"include/macros.sibilant",token:"(",type:"expression",line:343,col:40,contents:[{file:"include/macros.sibilant",token:"!=",type:"otherChar",line:343,col:41,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:343,col:44,contents:[{file:"include/macros.sibilant",token:"typeof",type:"literal",line:343,col:45,contents:[],specials:0,precedingIgnored:[]},thing],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:343,col:43,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{file:"include/macros.sibilant",token:"'",type:"tick",line:343,col:60,contents:[{file:"include/macros.sibilant",token:"undefined",type:"literal",line:343,col:61,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:343,col:59,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.number__QUERY=function number__QUERY$(things){var things=Array.prototype.slice.call(arguments,0);return{file:"include/macros.sibilant",token:"(",type:"expression",line:351,col:8,contents:[{file:"include/macros.sibilant",token:"and",type:"literal",line:351,col:9,contents:[],specials:0,precedingIgnored:[]}].concat(map(things,function(thing){return{file:"include/macros.sibilant",token:"(",type:"expression",line:351,col:40,contents:[{file:"include/macros.sibilant",token:"=",type:"otherChar",line:351,col:41,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:351,col:43,contents:[{file:"include/macros.sibilant",token:"typeof",type:"literal",line:351,col:44,contents:[],specials:0,precedingIgnored:[]},thing],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:351,col:42,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{file:"include/macros.sibilant",token:"'",type:"tick",line:351,col:59,contents:[{file:"include/macros.sibilant",token:"number",type:"literal",line:351,col:60,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:351,col:58,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.pipe=function pipe$(calls){var calls=Array.prototype.slice.call(arguments,0);return inject(void 0,calls,function(value,item){return function(){return"undefined"==typeof value?item:function(){var cloned=function(){return node__QUERY(item,"literal","dots")?{file:"include/macros.sibilant",token:"(",type:"expression",line:383,col:39,contents:[item],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}:clone(item)}.call(this),placeholder=detect(cloned.contents,function(node){return node__QUERY(node,"otherChar")&&"#"===node.token}),placeholderIndex=cloned.contents.indexOf(placeholder),placeholderBoundaries=function(){return placeholder?[placeholderIndex,1+placeholderIndex]:[1,1]}.call(this);return mergeInto(cloned,{contents:cloned.contents.slice(0,placeholderBoundaries[0]).concat([value],cloned.contents.slice(placeholderBoundaries[1]))})}.call(this)}.call(this)})},sibilant.macros.namespaces.core["|>"]=sibilant.macros.namespaces.core.pipe,sibilant.macros.namespaces.core.comment=function comment$(contents){var contents=Array.prototype.slice.call(arguments,0);return map(contents,function(content){return["// ",recurseMap(transpile(content),function(item){return item?outputFormatter(transpile(item)).replace(new RegExp("\n","g"),"\n// "):null})]})},sibilant.macros.namespaces.core.array__QUERY=function array__QUERY$(thing){var transpiled=transpile(thing);return["((",transpiled,") && typeof (",transpiled,') === "object" && (',transpiled,').constructor.name === "Array")']},sibilant.macros.namespaces.core.list__QUERY=sibilant.macros.namespaces.core.array__QUERY,sibilant.macros.namespaces.core.hash__QUERY=function hash__QUERY$(thing){return{file:"include/macros.sibilant",token:"(",type:"expression",line:444,col:8,contents:[{file:"include/macros.sibilant",token:"and",type:"literal",line:444,col:9,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:444,col:13,contents:[{file:"include/macros.sibilant",token:"=",type:"otherChar",line:444,col:14,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"'",type:"tick",line:444,col:16,contents:[{file:"include/macros.sibilant",token:"object",type:"literal",line:444,col:17,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:444,col:15,contents:[]}]},{file:"include/macros.sibilant",token:"(",type:"expression",line:444,col:24,contents:[{file:"include/macros.sibilant",token:"typeof",type:"literal",line:444,col:25,contents:[],specials:0,precedingIgnored:[]},thing],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:444,col:23,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:444,col:12,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:445,col:13,contents:[{file:"include/macros.sibilant",token:"!=",type:"otherChar",line:445,col:14,contents:[],specials:0,precedingIgnored:[]},thing,{file:"include/macros.sibilant",token:"null",type:"literal",line:445,col:24,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:445,col:23,contents:[]}]}],precedingIgnored:[{file:"include/macros.sibilant",token:"\n",type:"newline",line:444,col:40,contents:[]},{file:"include/macros.sibilant",token:"             ",type:"whitespace",line:445,col:0,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:446,col:13,contents:[{file:"include/macros.sibilant",token:"!=",type:"otherChar",line:446,col:14,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:446,col:17,contents:[{file:"include/macros.sibilant",token:"get",type:"literal",line:446,col:18,contents:[],specials:0,precedingIgnored:[]},thing,{file:"include/macros.sibilant",token:"'",type:"tick",line:446,col:29,contents:[{file:"include/macros.sibilant",token:"constructor",type:"literal",line:446,col:30,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:446,col:28,contents:[]}]},{file:"include/macros.sibilant",token:"'",type:"tick",line:446,col:42,contents:[{file:"include/macros.sibilant",token:"name",type:"literal",line:446,col:43,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:446,col:41,contents:[]}]}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:446,col:16,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{file:"include/macros.sibilant",token:"'",type:"tick",line:446,col:49,contents:[{file:"include/macros.sibilant",token:"Array",type:"literal",line:446,col:50,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:446,col:48,contents:[]}]}],precedingIgnored:[{file:"include/macros.sibilant",token:"\n",type:"newline",line:445,col:29,contents:[]},{file:"include/macros.sibilant",token:"             ",type:"whitespace",line:446,col:0,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.object__QUERY=sibilant.macros.namespaces.core.hash__QUERY,sibilant.macros.namespaces.core._scopedWithoutReturn=function _scopedWithoutReturn$(body){var body=Array.prototype.slice.call(arguments,0);return["(function() {",indent.apply(this,body),"}).call(this)"]},sibilant.macros.namespaces.core._scopedWithoutSource=function _scopedWithoutSource$(body){var body=Array.prototype.slice.call(arguments,0);return{file:"include/macros.sibilant",token:"(",type:"expression",line:454,col:8,contents:[{file:"include/macros.sibilant",token:"*scoped-without-return",type:"literal",line:454,col:9,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:454,col:32,contents:[{file:"include/macros.sibilant",token:"do",type:"literal",line:454,col:33,contents:[],specials:0,precedingIgnored:[]}].concat(body),precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:454,col:31,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.when=function when$(condition,body){var body=Array.prototype.slice.call(arguments,1);return sibilant.macros.namespaces.core._scopedWithoutReturn("if (",condition,") {",indent({file:"include/macros.sibilant",token:"(",type:"expression",line:466,col:18,contents:[{file:"include/macros.sibilant",token:"do",type:"literal",line:466,col:19,contents:[],specials:0,precedingIgnored:[]}].concat(body),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}),"}")},sibilant.macros.namespaces.core.not=function not$(exp){return["!(",transpile(exp),")"]},sibilant.macros.namespaces.core.unless=function unless$(condition,body){var body=Array.prototype.slice.call(arguments,1);return["(function() {",indent(["if (",{file:"include/macros.sibilant",token:"(",type:"expression",line:490,col:25,contents:[{file:"include/macros.sibilant",token:"not",type:"literal",line:490,col:26,contents:[],specials:0,precedingIgnored:[]},condition],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]},") {",indent({file:"include/macros.sibilant",token:"(",type:"expression",line:491,col:33,contents:[{file:"include/macros.sibilant",token:"do",type:"literal",line:491,col:34,contents:[],specials:0,precedingIgnored:[]}].concat(body),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}),"}"]),"}).call(this)"]},sibilant.macros.namespaces.core.logPretty=function logPretty$(label,arg){var node=this;return function(){return"undefined"==typeof arg?(arg=label,label=['"',prettify(label,!1),'"']):void 0}.call(this),{file:"include/macros.sibilant",token:"(",type:"expression",line:507,col:8,contents:[{file:"include/macros.sibilant",token:"console.log",type:"literal",line:507,col:9,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:507,col:21,contents:[{file:"include/macros.sibilant",token:"concat",type:"literal",line:507,col:22,contents:[],specials:0,precedingIgnored:[]},['"',node.file,":",node.line,'"'],{file:"include/macros.sibilant",token:'" "',type:"string",line:507,col:66,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:507,col:65,contents:[]}]},label,{file:"include/macros.sibilant",token:'" = "',type:"string",line:507,col:77,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:507,col:76,contents:[]}]},{file:"include/macros.sibilant",token:"(",type:"expression",line:507,col:83,contents:[{file:"include/macros.sibilant",token:"prettify",type:"literal",line:507,col:84,contents:[],specials:0,precedingIgnored:[]},arg],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:507,col:82,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:507,col:20,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.prettyLog=sibilant.macros.namespaces.core.logPretty,sibilant.macros.namespaces.core.each=function each$(item,array,body){var body=Array.prototype.slice.call(arguments,2);return{file:"include/macros.sibilant",token:"(",type:"expression",line:521,col:8,contents:[{file:"include/macros.sibilant",token:".",type:"dots",line:521,col:9,contents:[{file:"include/macros.sibilant",token:"for-each",type:"literal",line:521,col:10,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},array,{file:"include/macros.sibilant",token:"(",type:"expression",line:522,col:19,contents:[{file:"include/macros.sibilant",token:"lambda",type:"literal",line:522,col:20,contents:[],specials:0,precedingIgnored:[]},{node:this,args:function(){return node__QUERY(item,"expression")?item:[item]}.call(this)}].concat(body),precedingIgnored:[{file:"include/macros.sibilant",token:"\n",type:"newline",line:521,col:25,contents:[]},{file:"include/macros.sibilant",token:"                   ",type:"whitespace",line:522,col:0,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["throw"]=function throw$(error){return["throw ",transpile(error)]},sibilant.macros.namespaces.core.asBoolean=function asBoolean$(expr){return["(!!(",transpile(expr),"))"]},sibilant.macros.namespaces.core.asNumber=function asNumber$(expr){return{file:"include/macros.sibilant",token:"(",type:"expression",line:554,col:25,contents:[{file:"include/macros.sibilant",token:"Number",type:"literal",line:554,col:26,contents:[],specials:0,precedingIgnored:[]},expr],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["try"]=function try$(tryblock,catchblock){return["(function() {",indent(["try {",indent({file:"include/macros.sibilant",token:"(",type:"expression",line:561,col:26,contents:[{file:"include/macros.sibilant",token:"do",type:"literal",line:561,col:27,contents:[],specials:0,precedingIgnored:[]},tryblock],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}),"} catch (e) {",indent({file:"include/macros.sibilant",token:"(",type:"expression",line:563,col:26,contents:[{file:"include/macros.sibilant",token:"do",type:"literal",line:563,col:27,contents:[],specials:0,precedingIgnored:[]},catchblock],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}),"}"]),"}).call(this)"]},sibilant.macros.namespaces.core["while"]=function while$(condition,body){var body=Array.prototype.slice.call(arguments,1),symbol=generateSymbol("while");return{file:"include/macros.sibilant",token:"(",type:"expression",line:577,col:8,contents:[{file:"include/macros.sibilant",token:"*scoped-without-source",type:"literal",line:577,col:9,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:578,col:9,contents:[{file:"include/macros.sibilant",token:"var",type:"literal",line:578,col:10,contents:[],specials:0,precedingIgnored:[]},symbol],precedingIgnored:[{file:"include/macros.sibilant",token:"\n",type:"newline",line:577,col:31,contents:[]},{file:"include/macros.sibilant",token:"         ",type:"whitespace",line:578,col:0,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{type:"output",contents:["while (",transpile(condition),") {",indent({file:"include/macros.sibilant",token:"(",type:"expression",line:581,col:35,contents:[{file:"include/macros.sibilant",token:"assign",type:"literal",line:581,col:36,contents:[],specials:0,precedingIgnored:[]},symbol,{file:"include/macros.sibilant",token:"(",type:"expression",line:581,col:51,contents:[{file:"include/macros.sibilant",token:"*scoped-without-source",type:"literal",line:581,col:52,contents:[],specials:0,precedingIgnored:[]}].concat(body),precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:581,col:50,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}),"}"]},symbol],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.until=function until$(condition,body){var body=Array.prototype.slice.call(arguments,1);return{file:"include/macros.sibilant",token:"(",type:"expression",line:595,col:8,contents:[{file:"include/macros.sibilant",token:"while",type:"literal",line:595,col:9,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:595,col:15,contents:[{file:"include/macros.sibilant",token:"not",type:"literal",line:595,col:16,contents:[],specials:0,precedingIgnored:[]},condition],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:595,col:14,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}].concat(body),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.match__QUERY=function match__QUERY$(regexp,string){return{file:"include/macros.sibilant",token:"(",type:"expression",line:605,col:8,contents:[{file:"include/macros.sibilant",token:".",type:"dots",line:605,col:9,contents:[{file:"include/macros.sibilant",token:"match",type:"literal",line:605,col:10,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},string,regexp],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.matchRegex__QUERY=function matchRegex__QUERY$(string,pattern,flags){return{file:"include/macros.sibilant",token:"(",type:"expression",line:611,col:8,contents:[{file:"include/macros.sibilant",token:"match?",type:"literal",line:611,col:9,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:611,col:16,contents:[{file:"include/macros.sibilant",token:"regex",type:"literal",line:611,col:17,contents:[],specials:0,precedingIgnored:[]},pattern,flags],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:611,col:15,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},string],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.replace=function replace$(string,pattern,replacement){return{file:"include/macros.sibilant",token:"(",type:"expression",line:618,col:8,contents:[{file:"include/macros.sibilant",token:".",type:"dots",line:618,col:9,contents:[{file:"include/macros.sibilant",token:"replace",type:"literal",line:618,col:10,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},string,{file:"include/macros.sibilant",token:"(",type:"expression",line:619,col:14,contents:[{file:"include/macros.sibilant",token:"regex",type:"literal",line:619,col:15,contents:[],specials:0,precedingIgnored:[]},pattern],precedingIgnored:[{file:"include/macros.sibilant",token:"\n",type:"newline",line:618,col:25,contents:[]},{file:"include/macros.sibilant",token:"              ",type:"whitespace",line:619,col:0,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},replacement],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.replaceAll=function replaceAll$(string,pattern,replacement){return{file:"include/macros.sibilant",token:"(",type:"expression",line:626,col:8,contents:[{file:"include/macros.sibilant",token:".",type:"dots",line:626,col:9,contents:[{file:"include/macros.sibilant",token:"replace",type:"literal",line:626,col:10,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},string,{file:"include/macros.sibilant",token:"(",type:"expression",line:626,col:26,contents:[{file:"include/macros.sibilant",token:"regex",type:"literal",line:626,col:27,contents:[],specials:0,precedingIgnored:[]},pattern,{file:"include/macros.sibilant",token:"'",type:"tick",line:626,col:42,contents:[{file:"include/macros.sibilant",token:"g",type:"literal",line:626,col:43,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:626,col:41,contents:[]}]}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:626,col:25,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},replacement],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.thunk=function thunk$(body){var body=Array.prototype.slice.call(arguments,0),node=this,lambdaOptions={node:node,args:[]};return function(){return node__QUERY(body[0])?void 0:(mergeInto(lambdaOptions,body[0]),body=body.slice(1))}.call(this),{file:"include/macros.sibilant",token:"(",type:"expression",line:647,col:8,contents:[{file:"include/macros.sibilant",token:"lambda",type:"literal",line:647,col:9,contents:[],specials:0,precedingIgnored:[]},lambdaOptions].concat(mapNode(body,function(node){return function(){return node__QUERY(node,"argPlaceholder")?{file:"include/macros.sibilant",token:"(",type:"expression",line:651,col:24,contents:[{file:"include/macros.sibilant",token:"argument",type:"literal",line:651,col:25,contents:[],specials:0,precedingIgnored:[]},node.token.replace(new RegExp("^#",void 0),"")],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}:node}.call(this)})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["#>"]=sibilant.macros.namespaces.core.thunk,sibilant.macros.namespaces.core.pipeThunk=function pipeThunk$(calls){
var calls=Array.prototype.slice.call(arguments,0);return{file:"include/macros.sibilant",token:"(",type:"expression",line:662,col:30,contents:[{file:"include/macros.sibilant",token:"thunk",type:"literal",line:662,col:31,contents:[],specials:0,precedingIgnored:[]},{node:this},{file:"include/macros.sibilant",token:"(",type:"expression",line:662,col:52,contents:[{file:"include/macros.sibilant",token:"pipe",type:"literal",line:662,col:53,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"#0",type:"argPlaceholder",line:662,col:58,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:662,col:57,contents:[]}]}].concat(calls),precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:662,col:51,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["#->"]=sibilant.macros.namespaces.core.pipeThunk,sibilant.macros.namespaces.core.keys=function keys$(obj){return{file:"include/macros.sibilant",token:"(",type:"expression",line:675,col:8,contents:[{file:"include/macros.sibilant",token:"Object.keys",type:"literal",line:675,col:9,contents:[],specials:0,precedingIgnored:[]},obj],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["delete"]=function delete$(objects){var objects=Array.prototype.slice.call(arguments,0);return interleave("\n",map(objects,function(obj){return asStatement(["delete ",transpile(obj)])}))},sibilant.macros.namespaces.core.deleteMacro=function deleteMacro$(macroNames){var macroNames=Array.prototype.slice.call(arguments,0);return macroNames.forEach(function(macroName){return delete sibilant.macros.namespace[outputFormatter(transpile(macroName))]}),null},sibilant.macros.namespaces.core.delmacro=sibilant.macros.namespaces.core.deleteMacro,sibilant.macros.namespaces.core.renameMacro=function renameMacro$(currentMacroName,newMacroName){return sibilant.macros.namespaces.core.aliasMacro(currentMacroName,newMacroName),sibilant.macros.namespaces.core.deleteMacro(currentMacroName),null},sibilant.macros.namespaces.core.arguments=function arguments$(){return["(Array.prototype.slice.apply(arguments))"]},sibilant.macros.namespaces.core.argument=function argument$(index){return{file:"include/macros.sibilant",token:"(",type:"expression",line:740,col:8,contents:[{file:"include/macros.sibilant",token:"get",type:"literal",line:740,col:9,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"arguments",type:"literal",line:740,col:13,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:740,col:12,contents:[]}]},index],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.eachKey=function eachKey$(as,obj,body){var body=Array.prototype.slice.call(arguments,2);return{file:"include/macros.sibilant",token:"(",type:"expression",line:749,col:8,contents:[{file:"include/macros.sibilant",token:"pipe",type:"literal",line:749,col:9,contents:[],specials:0,precedingIgnored:[]},obj,{file:"include/macros.sibilant",token:"(",type:"expression",line:749,col:19,contents:[{file:"include/macros.sibilant",token:"keys",type:"literal",line:749,col:20,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:749,col:18,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:750,col:14,contents:[{file:"include/macros.sibilant",token:".",type:"dots",line:750,col:15,contents:[{file:"include/macros.sibilant",token:"for-each",type:"literal",line:750,col:16,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:750,col:25,contents:[{file:"include/macros.sibilant",token:"lambda",type:"literal",line:750,col:26,contents:[],specials:0,precedingIgnored:[]},{args:function(){return node__QUERY(as,"expression")?as:[as]}.call(this),node:this}].concat(body),precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:750,col:24,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[{file:"include/macros.sibilant",token:"\n",type:"newline",line:749,col:25,contents:[]},{file:"include/macros.sibilant",token:"              ",type:"whitespace",line:750,col:0,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["switch"]=function switch$(obj,cases){var cases=Array.prototype.slice.call(arguments,1);return["(function() {",indent(["switch(",transpile(obj),") {",map(cases,function(caseDef){var caseNameNode=caseDef.contents[0],caseLabels=function(){return node__QUERY(caseNameNode,"expression","bracket")?caseNameNode.contents:[caseNameNode]}.call(this),caseString=interleave("\n",map(caseLabels,function(c){return function(){return"default"===c.token?"default:":["case ",transpile(c),":"]}.call(this)}));return["\n",caseString,indent({file:"include/macros.sibilant",token:"(",type:"expression",line:784,col:59,contents:[{file:"include/macros.sibilant",token:"do",type:"literal",line:784,col:60,contents:[],specials:0,precedingIgnored:[]}].concat(caseDef.contents.slice(1)),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]})]}),"}"]),"}).call(this)"]},sibilant.macros.namespaces.core["if"]=function if$(alternatingConditionsAndBranches){var alternatingConditionsAndBranches=Array.prototype.slice.call(arguments,0);return["(function() {",indent(interleave(" else ",bulkMap(alternatingConditionsAndBranches,function(cond,val){return function(){return"undefined"!=typeof val?["if (",transpile(cond),") {",indent({file:"include/macros.sibilant",token:"(",type:"expression",line:824,col:44,contents:[{file:"include/macros.sibilant",token:"do",type:"literal",line:824,col:45,contents:[],specials:0,precedingIgnored:[]},val],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}),"}"]:["{",indent({file:"include/macros.sibilant",token:"(",type:"expression",line:826,col:47,contents:[{file:"include/macros.sibilant",token:"do",type:"literal",line:826,col:48,contents:[],specials:0,precedingIgnored:[]},cond],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}),"}"]}.call(this)}))),"}).call(this)"]},sibilant.macros.namespaces.core.instanceOf__QUERY=function instanceOf__QUERY$(item,type){return["(",transpile(item)," instanceof ",transpile(type),")"]},sibilant.macros.namespaces.core.includes__QUERY=function includes__QUERY$(haystack,needle){return{file:"include/macros.sibilant",token:"(",type:"expression",line:851,col:8,contents:[{file:"include/macros.sibilant",token:"pipe",type:"literal",line:851,col:9,contents:[],specials:0,precedingIgnored:[]},haystack,{file:"include/macros.sibilant",token:"(",type:"expression",line:851,col:24,contents:[{file:"include/macros.sibilant",token:".",type:"dots",line:851,col:25,contents:[{file:"include/macros.sibilant",token:"index-of",type:"literal",line:851,col:26,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},needle],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:851,col:23,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:851,col:44,contents:[{file:"include/macros.sibilant",token:"!=",type:"otherChar",line:851,col:45,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"-1",type:"number",line:851,col:48,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:851,col:47,contents:[]}]}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:851,col:43,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.excludes__QUERY=function excludes__QUERY$(haystack,needle){return{file:"include/macros.sibilant",token:"(",type:"expression",line:864,col:8,contents:[{file:"include/macros.sibilant",token:"pipe",type:"literal",line:864,col:9,contents:[],specials:0,precedingIgnored:[]},haystack,{file:"include/macros.sibilant",token:"(",type:"expression",line:864,col:24,contents:[{file:"include/macros.sibilant",token:".",type:"dots",line:864,col:25,contents:[{file:"include/macros.sibilant",token:"index-of",type:"literal",line:864,col:26,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},needle],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:864,col:23,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:864,col:44,contents:[{file:"include/macros.sibilant",token:"=",type:"otherChar",line:864,col:45,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"-1",type:"number",line:864,col:47,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:864,col:46,contents:[]}]}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:864,col:43,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.exists__QUERY=function exists__QUERY$(thing){return{file:"include/macros.sibilant",token:"(",type:"expression",line:875,col:8,contents:[{file:"include/macros.sibilant",token:"and",type:"literal",line:875,col:9,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:875,col:13,contents:[{file:"include/macros.sibilant",token:"defined?",type:"literal",line:875,col:14,contents:[],specials:0,precedingIgnored:[]},thing],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:875,col:12,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:875,col:31,contents:[{file:"include/macros.sibilant",token:"!=",type:"otherChar",line:875,col:32,contents:[],specials:0,precedingIgnored:[]},thing,{file:"include/macros.sibilant",token:"null",type:"literal",line:875,col:42,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:875,col:41,contents:[]}]}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:875,col:30,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.withState=function withState$(k,v,body){var body=Array.prototype.slice.call(arguments,2),state=sibilant.state,$2=map([k,v],function(){return outputFormatter(transpile(arguments[0]))}),key=$2[0],value=$2[1],$2=void 0,before=state[key];state[key]=value;var returnValue=interleave("\n",map(body,transpile));return state[key]=before,returnValue},sibilant.macros.namespaces.core.join=function join$(arr,glue){return function(){return"undefined"!=typeof glue&&"undefined"==typeof arr?(arr=glue,glue=void 0):void 0}.call(this),{file:"include/macros.sibilant",token:"(",type:"expression",line:904,col:8,contents:[{file:"include/macros.sibilant",token:".",type:"dots",line:904,col:9,contents:[{file:"include/macros.sibilant",token:"join",type:"literal",line:904,col:10,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},arr,glue||'""'],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.parens=function parens$(node){return["(",node,")"]},sibilant.macros.namespaces.core["var"]=function var$(pairs){var pairs=Array.prototype.slice.call(arguments,0);return asStatement(["var ",interleave(map(destructure(pairs),function(pair){return[pair[0]," = ",pair[1]]}),",\n    ")])},sibilant.macros.namespaces.core.assign=function assign$(pairs){var pairs=Array.prototype.slice.call(arguments,0);return interleave(map(destructure(pairs),function(pair){return asStatement([pair[0]," = ",pair[1]])}),"\n")},sibilant.macros.namespaces.core["default"]=function default$(pairs){var pairs=Array.prototype.slice.call(arguments,0);return interleave("\n",bulkMap(pairs,function(name,value){return{file:"include/macros.sibilant",token:"(",type:"expression",line:959,col:35,contents:[{file:"include/macros.sibilant",token:"assign",type:"literal",line:959,col:36,contents:[],specials:0,precedingIgnored:[]},name,{file:"include/macros.sibilant",token:"(",type:"expression",line:959,col:49,contents:[{file:"include/macros.sibilant",token:"ternary",type:"literal",line:959,col:50,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:959,col:58,contents:[{file:"include/macros.sibilant",token:"defined?",type:"literal",line:959,col:59,contents:[],specials:0,precedingIgnored:[]},name],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:959,col:57,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},name,value],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:959,col:48,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}}))},sibilant.macros.namespaces.core.importNamespace=function importNamespace$(namespace){var namespaceAsString=outputFormatter(transpile(namespace));(function(){return sibilant.macros.namespaces.hasOwnProperty(namespaceAsString)?void 0:sibilant.macros.namespaces[namespaceAsString]={}}).call(this),sibilant.macros.searchPath.unshift(namespaceAsString)},sibilant.macros.namespaces.core.namespace=function namespace$(namespace){sibilant.macros.namespaces.core.importNamespace(namespace),sibilant.macros.namespace=sibilant.macros.namespaces[outputFormatter(transpile(namespace))]},sibilant.macros.namespaces.core.hasKey__QUERY=function hasKey__QUERY$(object,key){return{file:"include/macros.sibilant",token:"(",type:"expression",line:986,col:8,contents:[{file:"include/macros.sibilant",token:".",type:"dots",line:986,col:9,contents:[{file:"include/macros.sibilant",token:"has-own-property",type:"literal",line:986,col:10,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},object,key],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.get=function get$(obj,keys){var keys=Array.prototype.slice.call(arguments,1);return[transpile(obj),map(keys,function(key){var transpiled=transpile(key),output=outputFormatter(transpiled);return function(){return output.match(new RegExp('^"[a-zA-Z0-9]+"$',void 0))?[".",output.replace(new RegExp('"',"g"),"")]:["[",transpiled,"]"]}.call(this)})]},sibilant.macros.namespaces.core.set=function set$(arr,kvPairs){var kvPairs=Array.prototype.slice.call(arguments,1);return interleave("\n",bulkMap(kvPairs,function(k,v){return{file:"include/macros.sibilant",token:"(",type:"expression",line:1037,col:52,contents:[{file:"include/macros.sibilant",token:"assign",type:"literal",line:1037,col:53,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:1037,col:60,contents:[{file:"include/macros.sibilant",token:"get",type:"literal",line:1037,col:61,contents:[],specials:0,precedingIgnored:[]},arr,k],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:1037,col:59,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},v],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}}))},sibilant.macros.namespaces.core.lowerCase__QUERY=function lowerCase__QUERY$(str){return{file:"include/macros.sibilant",token:"(",type:"expression",line:1043,col:8,contents:[{file:"include/macros.sibilant",token:"=",type:"otherChar",line:1043,col:9,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:1043,col:11,contents:[{file:"include/macros.sibilant",token:".",type:"dots",line:1043,col:12,contents:[{file:"include/macros.sibilant",token:"to-lower-case",type:"literal",line:1043,col:13,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},str],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:1043,col:10,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},str],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.upperCase__QUERY=function upperCase__QUERY$(str){return{file:"include/macros.sibilant",token:"(",type:"expression",line:1051,col:8,contents:[{file:"include/macros.sibilant",token:"=",type:"otherChar",line:1051,col:9,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:1051,col:11,contents:[{file:"include/macros.sibilant",token:".",type:"dots",line:1051,col:12,contents:[{file:"include/macros.sibilant",token:"to-upper-case",type:"literal",line:1051,col:13,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},str],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:1051,col:10,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},str],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.sourceMappingUrl=function sourceMappingUrl$(url){return["//# sourceMappingURL=",eval(outputFormatter(transpile(url))),"\n"]},sibilant.macros.namespaces.core.sortBy=function sortBy$(arrayOfObjects,attribute){return{file:"include/macros.sibilant",token:"(",type:"expression",line:1068,col:8,contents:[{file:"include/macros.sibilant",token:".",type:"dots",line:1068,col:9,contents:[{file:"include/macros.sibilant",token:"sort",type:"literal",line:1068,col:10,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},arrayOfObjects,{file:"include/macros.sibilant",token:"(",type:"expression",line:1069,col:15,contents:[{file:"include/macros.sibilant",token:"#->",type:"otherChar",line:1069,col:16,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:1069,col:20,contents:[{file:"include/macros.sibilant",token:"get",type:"literal",line:1069,col:21,contents:[],specials:0,precedingIgnored:[]},attribute],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:1069,col:19,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{file:"include/macros.sibilant",token:".",type:"dots",line:1070,col:20,contents:[{file:"include/macros.sibilant",token:"to-string",type:"literal",line:1070,col:21,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[{file:"include/macros.sibilant",token:"\n",type:"newline",line:1069,col:36,contents:[]},{file:"include/macros.sibilant",token:"                    ",type:"whitespace",line:1070,col:0,contents:[]}]},{file:"include/macros.sibilant",token:"(",type:"expression",line:1071,col:20,contents:[{file:"include/macros.sibilant",token:".",type:"dots",line:1071,col:21,contents:[{file:"include/macros.sibilant",token:"locale-compare",type:"literal",line:1071,col:22,contents:[],specials:0,precedingIgnored:[]}],precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:1071,col:37,contents:[{file:"include/macros.sibilant",token:"get",type:"literal",line:1071,col:38,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"#1",type:"argPlaceholder",line:1071,col:42,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:1071,col:41,contents:[]}]},attribute],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:1071,col:36,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[{file:"include/macros.sibilant",token:"\n",type:"newline",line:1070,col:30,contents:[]},{file:"include/macros.sibilant",token:"                    ",type:"whitespace",line:1071,col:0,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[{file:"include/macros.sibilant",token:"\n",type:"newline",line:1068,col:32,contents:[]},{file:"include/macros.sibilant",token:"               ",type:"whitespace",line:1069,col:0,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core.require__BANG=function require__BANG$(requires){var requires=Array.prototype.slice.call(arguments,0);return{file:"include/macros.sibilant",token:"(",type:"expression",line:1075,col:8,contents:[{file:"include/macros.sibilant",token:"var",type:"literal",line:1075,col:9,contents:[],specials:0,precedingIgnored:[]}].concat(inject([],requires,function(pairs,node){return pairs.concat(function(){return 0===pairs.length%2&&node__QUERY(node,"tick","string")?[mergeInto(clone(node),{token:outputFormatter(transpile(node)).slice(1,-1),contents:[],type:"literal"}),{file:"include/macros.sibilant",token:"(",type:"expression",line:1086,col:33,contents:[{file:"include/macros.sibilant",token:"require",type:"literal",line:1086,col:34,contents:[],specials:0,precedingIgnored:[]},node],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}]:1===pairs.length%2?[{file:"include/macros.sibilant",token:"(",type:"expression",line:1089,col:36,contents:[{file:"include/macros.sibilant",token:"require",type:"literal",line:1089,col:37,contents:[],specials:0,precedingIgnored:[]},node],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}]:[node]}.call(this))})),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["export"]=function export$(localVars){var localVars=Array.prototype.slice.call(arguments,0),pairs=localVars.reduce(function(acc,value){return acc.concat([sibilant.macros.namespaces.core.quote(value),value])},[]);return{file:"include/macros.sibilant",token:"(",type:"expression",line:1098,col:8,contents:[{file:"include/macros.sibilant",token:"set",type:"literal",line:1098,col:9,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"exports",type:"literal",line:1098,col:13,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:1098,col:12,contents:[]}]}].concat(pairs),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}},sibilant.macros.namespaces.core["return"]=function return$(token){(function(){return sibilant.debug?console.log("returning ",prettify(token)):void 0}).call(this);var defaultReturn=asStatement(["return ",transpile(token)]);return function(){return token&&token.contents&&token.contents.length?function(){switch(token.contents[0].token){case"return":case"throw":case"do":return transpile(token);case"delete":var deleteMacro=macros["delete"];return function(){return token.contents.length<3?defaultReturn:[asStatement(deleteMacro.apply(this,token.contents.slice(1,-1))),"\nreturn ",asStatement(deleteMacro(token.contents.slice(-1)[0]))]}.call(this);case"def":return[transpile(token),"\n",sibilant.macros.namespaces.core["return"](token.contents[1])];case"assign":return function(){if(token.contents.length<4)return defaultReturn;var result=clone(transpile(token));return result.contents=result.contents.slice(0,-4).concat(["return "],result.contents.slice(-4)),result}.call(this);case"var":return[transpile(token),"\n",sibilant.macros.namespaces.core["return"](function(){return 0===token.contents.length%2?token.contents.slice(-1)[0]:token.contents.slice(-2)[0]}.call(this))];case"set":return function(){if(token.contents.length<5)return defaultReturn;var obj=token.contents[1],nonReturnPart=token.contents.slice(2,token.contents.length-2),returnPart=token.contents.slice(-2);return nonReturnPart.unshift(obj),returnPart.unshift(obj),[sibilant.macros.namespaces.core.set.apply(this,nonReturnPart),"\nreturn ",sibilant.macros.namespaces.core.set.apply(this,returnPart)]}.call(this);default:return defaultReturn}}.call(this):defaultReturn}.call(this)},sibilant.macros.namespaces.core["do"]=function do$(body){var body=Array.prototype.slice.call(arguments,0);return function(){return 1===body.length?sibilant.macros.namespaces.core["return"](body[0]):body.length?[interleave(map(body.slice(0,-1),function(){return asStatement(arguments[0])}),"\n"),"\n",sibilant.macros.namespaces.core["return"](body.slice(-1)[0])]:""}.call(this)},sibilant.macros.namespaces.core.emptyList=function emptyList$(){return"null"},sibilant.macros.namespaces.core.def=function def$(name,args,body){var body=Array.prototype.slice.call(arguments,2),node=this;return function(){return"undefined"==typeof name?error("invalid function definition. missing name."):"undefined"==typeof args?error("invalid function definition. missing arguments or return value."):void 0}.call(this),sibilant.docs.record("function",sibilant.macros.searchPath[0],name,node),function(){return outputFormatter(transpile(name)).match(new RegExp("\\.",void 0))?{file:"include/macros.sibilant",token:"(",type:"expression",line:1182,col:10,contents:[{file:"include/macros.sibilant",token:"assign",type:"literal",line:1182,col:11,contents:[],specials:0,precedingIgnored:[]},name,{file:"include/macros.sibilant",token:"(",type:"expression",line:1182,col:24,contents:[{file:"include/macros.sibilant",token:"lambda",type:"literal",line:1182,col:25,contents:[],specials:0,precedingIgnored:[]},{name:name,args:args,node:node,body:body}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:1182,col:23,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}:{file:"include/macros.sibilant",token:"(",type:"expression",line:1183,col:10,contents:[{file:"include/macros.sibilant",token:"var",type:"literal",line:1183,col:11,contents:[],specials:0,precedingIgnored:[]},name,{file:"include/macros.sibilant",token:"(",type:"expression",line:1183,col:21,contents:[{file:"include/macros.sibilant",token:"lambda",type:"literal",line:1183,col:22,contents:[],specials:0,precedingIgnored:[]},{name:name,args:args,node:node,body:body}],precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:1183,col:20,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}}.call(this)},sibilant.macros.namespaces.core.macro=function macro$(name,args,body){var body=Array.prototype.slice.call(arguments,2),nameTr=outputFormatter(transpile(name)),options={name:name,args:args,node:this},js=outputFormatter(transpile({file:"include/macros.sibilant",token:"(",type:"expression",line:1198,col:18,contents:[{file:"include/macros.sibilant",token:"lambda",type:"literal",line:1198,col:19,contents:[],specials:0,precedingIgnored:[]},options].concat(body),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}));debug__BANG(2,js),sibilant.docs.record("macro",sibilant.macros.searchPath[0],name,this);var evaledJs=function(){try{return eval(js)}catch(e){return console.log(e.message),console.log(red(e.stack.split("\n")[1])),console.log("error in parsing macro "+sibilant.prettyPrint(name)+":\n"+js)}}.call(this);sibilant.macros.namespace[nameTr]=evaledJs},sibilant.macros.namespaces.core.meta=function meta$(body){var body=Array.prototype.slice.call(arguments,0),js=outputFormatter(transpile(sibilant.macros.namespaces.core.scoped.apply(this,body)));return function(){return sibilant.debug?console.log(js):void 0}.call(this),outputFormatter(eval(js))},sibilant.macros.namespaces.core.reverse=function reverse$(arr){var reversed=[];return arr.forEach(function(item){return reversed.unshift(item)}),reversed},sibilant.macros.namespaces.core.lambda=function lambda$(argsOrOptions,body){var body=Array.prototype.slice.call(arguments,1);debug__BANG(3,argsOrOptions);var args=argsOrOptions.args||argsOrOptions,body=argsOrOptions.body||body,node=argsOrOptions.node||this,args=function(){return node__QUERY(args,"expression","bracket")?args.contents:node__QUERY(args)&&0===body.length?(body=[args],[]):node__QUERY(args,"brace")?[args]:args}.call(this),name=function(){return argsOrOptions.name?outputFormatter(transpile(argsOrOptions.name)).replace(new RegExp("\\W+","g"),"$").concat("$"):void 0}.call(this),rest=detect(args,function(){return node__QUERY(arguments[0],"dots")}),destructuredArgs=map(args,function(arg){return function(){if(node__QUERY(arg,"bracket","brace")){var argName=generateSymbol(makeSymbolClue(arg));return{argName:argName,destructuredPair:[arg,argName]}}return{argName:arg}}.call(this)}),destructuredStatements=flatCompact([function(){return"undefined"!=typeof rest&&null!==rest?[rest,{file:"include/macros.sibilant",token:"(",type:"expression",line:1276,col:71,contents:[{file:"include/macros.sibilant",token:"Array.prototype.slice.call",type:"literal",line:1276,col:72,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"arguments",type:"literal",line:1276,col:99,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:1276,col:98,contents:[]}]},args.length-1],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}]:void 0}.call(this)].concat(map(destructuredArgs,function(){return arguments[0].destructuredPair})));return node=detect([node,argsOrOptions.name,args,body[0]],function(n){return node__QUERY(n)&&n.file}),["(function",function(){return name?" "+name:""}.call(this),"(",interleave(", ",map(destructuredArgs,function(){return arguments[0].argName})),") {",function(){return sibilant.state.functionComments&&(name||node)?indent(["/*",function(){return name?" "+sibilant.prettyPrint(argsOrOptions.name,!1):void 0}.call(this),function(){return node?" "+node.file+":"+node.line+":"+node.col:void 0}.call(this)," */"]):void 0}.call(this),function(){return destructuredStatements.length?indent({file:"include/macros.sibilant",token:"(",type:"expression",line:1292,col:55,contents:[{file:"include/macros.sibilant",token:"var",type:"literal",line:1292,col:56,contents:[],specials:0,precedingIgnored:[]}].concat(destructuredStatements),precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}):void 0}.call(this),indent(sibilant.macros.namespaces.core["do"].apply(this,body)),"})"]},sibilant.macros.namespaces.core["#"]=sibilant.macros.namespaces.core.lambda,sibilant.macros.namespaces.core.quotedHash=function quotedHash$(pairs){var pairs=Array.prototype.slice.call(arguments,0),cachedQuoteValue=sibilant.quoteHashKeys;sibilant.quoteHashKeys=!0;var value=sibilant.macros.namespaces.core.hash.apply(this,pairs);return sibilant.quoteHashKeys=cachedQuoteValue,value},sibilant.macros.namespaces.core.hash=function hash$(pairs){var pairs=Array.prototype.slice.call(arguments,0);pairs=pairs.map(function(p,i){return function(){if("&"===p.token&&node__QUERY(p,"special")){var double=pairs[function(){return 0===i%2?1+i:i-1}.call(this)];return function(){return node__QUERY(double,"tick")&&"`"===double.token?double.contents[0]:double}.call(this)}return p}.call(this)}),function(){return 1===pairs.length%2?error("odd number of key-value pairs in hash: "+inspect(pairs)):void 0}.call(this);var pairs_reduce$2=pairs.reduce(function(o,item,i){return function(){return 0===i%2&&node__QUERY(item,"tick")&&"`"===item.token?Object.assign({},o,{dynamicKeys:o.dynamicKeys.concat([item.contents[0]])}):1===o.dynamicKeys.length%2&&1===i%2?Object.assign({},o,{dynamicKeys:o.dynamicKeys.concat([item])}):Object.assign({},o,{staticKeys:o.staticKeys.concat([item])})}.call(this)},{dynamicKeys:[],staticKeys:[]}),dynamicKeys=pairs_reduce$2.dynamicKeys,staticKeys=pairs_reduce$2.staticKeys,pairs_reduce$2=void 0,quoteKeys=sibilant.quoteHashKeys,pairStrings=bulkMap(staticKeys,function(key,value){
return[function(){return quoteKeys&&!node__QUERY(key,"string")?['"',transpile(key),'"']:transpile(key)}.call(this),": ",transpile(value)]});return function(){if(dynamicKeys.length){var symbol=generateSymbol("hash");return{file:"include/macros.sibilant",token:"(",type:"expression",line:1348,col:13,contents:[{file:"include/macros.sibilant",token:"*scoped-without-source",type:"literal",line:1348,col:14,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:1349,col:14,contents:[{file:"include/macros.sibilant",token:"var",type:"literal",line:1349,col:15,contents:[],specials:0,precedingIgnored:[]},symbol,{file:"include/macros.sibilant",token:"(",type:"expression",line:1349,col:27,contents:[{file:"include/macros.sibilant",token:"hash",type:"literal",line:1349,col:28,contents:[],specials:0,precedingIgnored:[]}].concat(staticKeys),precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:1349,col:26,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]}],precedingIgnored:[{file:"include/macros.sibilant",token:"\n",type:"newline",line:1348,col:36,contents:[]},{file:"include/macros.sibilant",token:"              ",type:"whitespace",line:1349,col:0,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:1350,col:14,contents:[{file:"include/macros.sibilant",token:"set",type:"literal",line:1350,col:15,contents:[],specials:0,precedingIgnored:[]},symbol].concat(dynamicKeys),precedingIgnored:[{file:"include/macros.sibilant",token:"\n",type:"newline",line:1349,col:50,contents:[]},{file:"include/macros.sibilant",token:"              ",type:"whitespace",line:1350,col:0,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},symbol],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}}return 1>=pairStrings.length?["{ ",interleave(", ",pairStrings)," }"]:["{",indent(interleave(",\n",pairStrings)),"}"]}.call(this)},sibilant.macros.namespaces.core.quote=function quote$(content){var unquotes=findUnquotes(content);return function(){return"string"==typeof content?'"'+qescape(content)+'"':"number"==typeof content?sibilant.macros.namespaces.core.quote(content.toString()):node__QUERY(content,"literal","otherChar")?['"',transpile(content),'"']:Object.keys(unquotes).length?replace__BANG(content,unquotes):node__QUERY(content,"expression")?['"',mapNode(transpile(content),qescape),'"']:node__QUERY(content,"bracket")?sibilant.macros.namespaces.core.list.apply(this,map(content.contents,sibilant.macros.namespaces.core.quote)):node__QUERY(content,"brace")?sibilant.macros.namespaces.core.hash.apply(this,map(content.contents,sibilant.macros.namespaces.core.quote)):(console.log("unknown content"+inspect(content)),content)}.call(this)},sibilant.macros.namespaces.core.debug=function debug$(val){return sibilant.debug=eval(outputFormatter(transpile(val))),null},sibilant.macros.namespaces.core.list=function list$(args){var args=Array.prototype.slice.call(arguments,0),argSegments=[];return function(){if(0===args.length)return"[]";var simpleList=function simpleList$(args){return["[ ",interleave(", ",map(args,function(arg){return arg.transpiled}))," ]"]};return args.forEach(function(arg){return function(){return node__QUERY(arg,"dots")?argSegments.push({transpiled:transpile(arg)}):argSegments.slice(-1)[0]&&"object"==typeof argSegments.slice(-1)[0]&&"Array"===argSegments.slice(-1)[0].constructor.name?argSegments.slice(-1)[0].push({transpiled:transpile(arg)}):argSegments.push([{transpiled:transpile(arg)}])}.call(this)}),argSegments=map(argSegments,function(segment){return function(){return segment&&"object"==typeof segment&&"Array"===segment.constructor.name?simpleList(segment):segment.transpiled}.call(this)}),function(){return 1===argSegments.length?argSegments[0]:[argSegments[0],".concat(",interleave(", ",argSegments.slice(1)),")"]}.call(this)}.call(this)},sibilant.macros.namespaces.core.call=function call$(fnName,args){var args=Array.prototype.slice.call(arguments,1);return function(){return any__QUERY(args,function(){return node__QUERY(arguments[0],"dots")})?macros.apply(fnName,macros.list.apply(this,args)):[transpile(fnName),"(",interleave(", ",map(args,transpile)),")"]}.call(this)},sibilant.macros.namespaces.core.dots=function dots$(contents){var contents=Array.prototype.slice.call(arguments,0);return transpile(contents)},sibilant.macros.namespaces.core.include=function include$(files){var files=Array.prototype.slice.call(arguments,0);return interleave(files.map(function(file){return sibilant.withDefaultSearchPath(function(){return sibilant.include(eval(outputFormatter(transpile(file))))})}),"\n")},sibilant.macros.namespaces.core.docs=function docs$(options){var options=Array.prototype.slice.call(arguments,0),optionsString=void 0,optionsHash={};return function(){return 1===options.length%2?function(){return node__QUERY(options[0],"string")||"string"==typeof options[0]?optionsString=options.shift():node__QUERY(options.slice(-1)[0],"string")||"string"==typeof options.slice(-1)[0]?optionsString=options.pop():void 0}.call(this):void 0}.call(this),bulkMap(options,function(key,value){return optionsHash[outputFormatter(transpile(key))]=value}),["examples","references"].forEach(function(listAttribute){return function(){return optionsHash.hasOwnProperty(listAttribute)&&node__QUERY(optionsHash[listAttribute],"bracket")?optionsHash[listAttribute]=optionsHash[listAttribute].contents:void 0}.call(this)}),function(){return optionsHash.hasOwnProperty("example")?(function(){return optionsHash.hasOwnProperty("examples")?error("please provide example OR examples, not both"):void 0}.call(this),optionsHash.examples=[optionsHash.example],delete optionsHash.example):void 0}.call(this),function(){return optionsHash.hasOwnProperty("tags")?optionsHash.tags=eval(outputFormatter(transpile(sibilant.macros.namespaces.core.quote(optionsHash.tags)))):void 0}.call(this),function(){return node__QUERY(optionsString,"string")?optionsHash.docString=eval(outputFormatter(transpile(optionsString))):"string"==typeof optionsString?optionsHash.docString=optionsString:void 0}.call(this),sibilant.docs.lastDoc=optionsHash,null},sibilant.macros.namespaces.core.tap=function tap$(thing,body){var body=Array.prototype.slice.call(arguments,1);return{file:"include/macros.sibilant",token:"(",type:"expression",line:1499,col:8,contents:[{file:"include/macros.sibilant",token:"(",type:"expression",line:1499,col:9,contents:[{file:"include/macros.sibilant",token:"#>",type:"otherChar",line:1499,col:10,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"(",type:"expression",line:1499,col:13,contents:[{file:"include/macros.sibilant",token:"|>",type:"otherChar",line:1499,col:14,contents:[],specials:0,precedingIgnored:[]},{file:"include/macros.sibilant",token:"#0",type:"argPlaceholder",line:1499,col:17,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:1499,col:16,contents:[]}]}].concat(body),precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:1499,col:12,contents:[]}],specials:0,end:void 0,closed:!0,closingIgnored:[]},{file:"include/macros.sibilant",token:"#0",type:"argPlaceholder",line:1499,col:30,contents:[],specials:0,precedingIgnored:[{file:"include/macros.sibilant",token:" ",type:"whitespace",line:1499,col:29,contents:[]}]}],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]},thing],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}};var docs=sibilant.docs={definitions:[],undocumented:{}};docs.record=function docs$record$(type,namespace,name,node){var doc=docs.lastDoc;return function(){return"undefined"!=typeof doc?(delete sibilant.docs.undocumented[name],sibilant.docs.definitions.push(mergeInto(doc,{name:name,type:type,namespace:namespace,definition:node}))):sibilant.docs.undocumented[name]=!0}.call(this),delete sibilant.docs.lastDoc},docs.tags=function docs$tags$(){var tags=flatten(pluck(docs.definitions,"tags")),counts={};return tags.forEach(function(tag){return counts[tag]=(counts[tag]||0)+1}),counts},docs.text=function docs$text$(){return docs.definitions.map(function(definition){return"name: "+definition.type+" "+definition.namespace+"/"+prettify(definition.name)+"\ndescription: "+definition.docString+"\n"+function(){return definition.references?"references:\n  "+(definition.references.map(function(){return eval(outputFormatter(transpile(arguments[0])))}).join("\n  ")+"\n"):""}.call(this)+function(){return definition.tags?"tags: "+definition.tags.join(", ")+"\n":""}.call(this)+"arguments: "+prettify(definition.definition.contents[2])+"\nexamples: \n"+(definition.examples||[]).map(function(){return prettify(arguments[0],!0)+"\n"+outputFormatter(transpile(arguments[0]))}).join("\n\n")+"\n\n"}).join("")},docs.textNoColor=function docs$textNoColor$(){var stripAnsi=__webpack_require__(793);return stripAnsi(docs.text())},docs.json=function docs$json$(){return JSON.stringify(docs.data())},docs.data=function docs$data$(){return docs.definitions.map(function(definition){return{name:prettify(definition.name,!1),namespace:definition.namespace,type:definition.type,description:definition.docString,references:function(){return definition.references?definition.references.map(function(){return arguments[0].token.slice(1,-1)}):[]}.call(this),arguments:definition.definition.contents[2].contents.map(function(){return prettify(arguments[0],!1)}),definition:prettify(definition.definition,!1),examples:(definition.examples||[]).map(function(){return{javascript:outputFormatter(transpile(arguments[0])),sibilant:prettify(arguments[0],!1)}}),tags:definition.tags}})};var debug__BANG=function debug__BANG$(level,message){var message=Array.prototype.slice.call(arguments,1),debug=sibilant.debug;return function(){return debug&&debug>=level?(console.log({level:level,debug:debug}),message.forEach(function(){return console.log(arguments[0])})):void 0}.call(this)},tap=function tap$(item,fn){return fn(item),item},recurseIndent=function recurseIndent$(arg){return function(){return node__QUERY(arg)?mergeInto(arg,{contents:recurseIndent(flatCompact(arg.contents))}):arg&&"object"==typeof arg&&"Array"===arg.constructor.name?map(arg,recurseIndent):"number"==typeof arg?arg.toString():"string"==typeof arg?arg.replace(new RegExp("\\n","g"),"\n  ").replace(new RegExp("\\n\\s+\\n","g"),"\n\n"):arg}.call(this)},indent=function indent$(args){var args=Array.prototype.slice.call(arguments,0);return["\n  ",recurseIndent(map(args,transpile)),"\n"]},escapeRegex=function escapeRegex$(string){return string.replace(new RegExp("[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\^\\$\\|]","g"),"\\$&")},qescape=function qescape$(content){return function(){return"undefined"==typeof content||null===content?"":"string"==typeof content?content.split("\\\\ "[0]).join("\\\\ ".slice(0,-1)).replace(new RegExp('"',"g"),'\\"').replace(new RegExp("\\n","g"),'\\n" +\n"'):content}.call(this)},mapNode=function mapNode$(node,fn){return function(){if(node__QUERY(node)){var mappedNode=fn(node);return function(){return node__QUERY(mappedNode)?mappedNode.contents=mapNode(mappedNode.contents,fn):void 0}.call(this),mappedNode}return node&&"object"==typeof node&&"Array"===node.constructor.name?map(node,function(){return mapNode(arguments[0],fn)}):fn(node)}.call(this)},eachNode=function eachNode$(node,fn){return function(){return node__QUERY(node)?function(){return fn(node)?eachNode(node.contents,fn):void 0}.call(this):node&&"object"==typeof node&&"Array"===node.constructor.name?node.forEach(function(c){return eachNode(c,fn)}):fn(node)}.call(this)},statement__QUERY=function statement__QUERY$(transpiled){return function(){return node__QUERY(transpiled)?statement__QUERY(transpiled.contents):transpiled&&"object"==typeof transpiled&&"Array"===transpiled.constructor.name?statement__QUERY(transpiled.slice(-1)[0]):"string"==typeof transpiled?";"===transpiled.slice(-1)[0]:!1}.call(this)},asStatement=function asStatement$(node){var transpiled=transpile(node);return function(){return emptyNode__QUERY(transpiled)?void 0:statement__QUERY(transpiled)?transpiled:[transpiled,";"]}.call(this)},unquote__QUERY=function unquote__QUERY$(node){return node__QUERY(node,"at")},findUnquotes=function findUnquotes$(node){var unquotes={};return eachNode(node,function(n){return function(){return unquote__QUERY(n)?unquotes[n.nodeId]=transpile(n):void 0}.call(this),!node__QUERY(n,"tick")}),unquotes},spliceDots=function spliceDots$(node){return function(){if(node&&node.contents&&"object"==typeof node.contents&&"Array"===node.contents.constructor.name){var contents=[];return node.contents.forEach(function(content){return function(){return node__QUERY(content,"dots")&&content.contents&&"object"==typeof content.contents&&"Array"===content.contents.constructor.name&&1===content.contents.length&&content.contents[0]&&"object"==typeof content.contents[0]&&"Array"===content.contents[0].constructor.name?contents.push.apply(contents,content.contents[0]):contents.push(content)}.call(this)}),node.contents=contents}}.call(this),node},alternatingKeysAndValues=function alternatingKeysAndValues$(hash){return flatten(map(Object.keys(hash),function(key){return[key,hash[key]]}))},mapNodeForQuoteExpansion=function mapNodeForQuoteExpansion$(node,expansions){return function(){if(node__QUERY(node)){var mappedNode=function(){return expansions.hasOwnProperty(node.nodeId)?expansions[node.nodeId]:clone(node)}.call(this);return function(){return node__QUERY(mappedNode)?mappedNode.contents=mapNodeForQuoteExpansion(mappedNode.contents,expansions):void 0}.call(this),mappedNode=spliceDots(mappedNode)}return node&&"object"==typeof node&&"Array"===node.constructor.name?map(node,function(){return mapNodeForQuoteExpansion(arguments[0],expansions)}):node}.call(this)},replace__BANG=function replace__BANG$(content){return function(){return node__QUERY(content,"dots")&&3===content.token.length&&node__QUERY(content.contents[0],"at")?mergeInto(clone(content),{contents:[transpile(content.contents[0])]}):node__QUERY(content,"at")?transpile(content.contents[0]):node__QUERY(content,"tick")?JSON.stringify(content):"object"==typeof content&&null!==content&&"Array"!==content.constructor.name?sibilant.macros.namespaces.core.hash.apply(this,Object.keys(content).reduce(function(){return arguments[0].concat([arguments[1],replace__BANG(content[arguments[1]])])},[])):content&&"object"==typeof content&&"Array"===content.constructor.name?sibilant.macros.namespaces.core.list.apply(this,map(content,replace__BANG)):"undefined"==typeof content?"undefined":"number"==typeof content?content.toString():JSON.stringify(content)}.call(this)},node__QUERY=function node__QUERY$(thing,type,type2,type3,type4,testArg){var a=arguments;return thing&&thing.type&&thing.contents&&function(){return testArg?-1!==Array.prototype.slice.call(a,1).indexOf(thing.type):type?thing.type===type||thing.type===type2||thing.type===type3||thing.type===type4:!0}.call(this)},emptyNode__QUERY=function emptyNode__QUERY$(item){return function(){return null===item||"undefined"==typeof item||!1===item?!0:"string"==typeof item?item.match(new RegExp("^\\s*$",void 0)):item&&"object"==typeof item&&"Array"===item.constructor.name?all__QUERY(item,emptyNode__QUERY):node__QUERY(item)?emptyNode__QUERY(item.contents):!1}.call(this)},compactNode=function compactNode$(item){return function(){if(node__QUERY(item))return item.contents=compactNode(item.contents),function(){return item.contents&&item.contents.length?item:null}.call(this);if(item&&"object"==typeof item&&"Array"===item.constructor.name){var compacted=compact(map(item,compactNode));return function(){return compacted&&compacted.length?compacted:null}.call(this)}return function(){return""===item||item===!1?null:item}.call(this)}.call(this)},generateSymbol=function generateSymbol$(clue){var state=sibilant.state;clue="undefined"!=typeof clue?clue:"temp",state.symbolCounts="undefined"!=typeof state.symbolCounts?state.symbolCounts:{};var count=(state.symbolCounts[clue]||0)+1;return state.symbolCounts[clue]=count,[""+clue+"$"+count]},makeSymbolClue=function makeSymbolClue$(node){var targetNode=function(){return node__QUERY(node,"expression")&&"require"===node.contents[0].token?node.contents[1]:node__QUERY(node,"expression")?node.contents[0]:node}.call(this);return function(){try{return outputFormatter(transpile(targetNode))}catch(e){return sibilant.prettyPrint(node,!1)}}.call(this).replace(new RegExp("[^a-zA-Z]+","g"),"_").replace(new RegExp("^_|_$","g"),"").slice(0,15)},destructure=function destructure$(pairs){var destructured=[];return bulkMap(pairs,function(lhs,rhs){var transpiledRhs=transpile(rhs);return function(){switch(lhs.type){case"bracket":var literalRhs__QUERY=outputFormatter(transpiledRhs).match(new RegExp("^[._a-zA-Z0-9$]+$",void 0)),source=function(){if(literalRhs__QUERY)return transpiledRhs;var symbol=generateSymbol(makeSymbolClue(rhs));return destructured.push([symbol,transpiledRhs]),symbol}.call(this);return lhs.contents.forEach(function(item,index){return destructured.push([transpile(item),{file:"src/helpers.sibilant",token:"(",type:"expression",line:217,col:76,contents:[{file:"src/helpers.sibilant",token:"get",type:"literal",line:217,col:77,contents:[],specials:0,precedingIgnored:[]},source,index],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}])}),function(){return literalRhs__QUERY?void 0:destructured.push([source,"undefined"])}.call(this);case"brace":var literalRhs__QUERY=outputFormatter(transpiledRhs).match(new RegExp("^[._a-zA-Z0-9$]+$",void 0)),source=function(){if(literalRhs__QUERY)return transpiledRhs;if(1===lhs.contents.length)return["(",rhs,")"];var symbol=generateSymbol(makeSymbolClue(rhs));return destructured.push([symbol,transpiledRhs]),symbol}.call(this);return lhs.contents.forEach(function(item,index){var trItem=transpile(item);return destructured.push([trItem,{file:"src/helpers.sibilant",token:"(",type:"expression",line:231,col:67,contents:[{file:"src/helpers.sibilant",token:"get",type:"literal",line:231,col:68,contents:[],specials:0,precedingIgnored:[]},source,['"',trItem,'"']],precedingIgnored:[],specials:0,end:void 0,closed:!0,closingIgnored:[]}])}),function(){return literalRhs__QUERY||1===lhs.contents.length?void 0:destructured.push([source,"undefined"])}.call(this);default:return destructured.push([transpile(lhs),function(){return rhs?transpiledRhs:"undefined"}.call(this)])}}.call(this)}),destructured},recurseTranspile=function recurseTranspile$(node){return function(){return node&&"object"==typeof node&&"Array"===node.constructor.name?map(node,recurseTranspile):node__QUERY(node,"output")?mergeInto(node,{contents:recurseTranspile(node.contents)}):node__QUERY(node)?transpile(node):node}.call(this)},transpile=function transpile$(node,preprocessor){return function(){return"string"==typeof node?node={type:"js",token:node,contents:[]}:"number"==typeof node?node={type:"number",token:node.toString(),contents:[]}:void 0}.call(this),function(){if(node&&"object"==typeof node&&"Array"===node.constructor.name)return node;if("undefined"!=typeof node&&null!==node){var transpiler=transpile[node.type]||transpile["default"],result=transpiler(node),resultNode=recurseTranspile(function(){return node__QUERY(result)?result:{contents:result,type:"output"}}.call(this));return function(){if("undefined"==typeof resultNode)throw console.log(""+node.file+":"+node.line+":"+node.col+"\n"+prettify(node)),console.log(prettify(result)),console.log(prettify(transpile(result))),new Error("Encountered an undefined return from recursive transpile.\nPlease report this bug at https://github.com/jbr/sibilant/issues/new")}.call(this),resultNode.contents=flatCompact(resultNode.contents),resultNode.source=node,function(){return emptyNode__QUERY(resultNode)?void 0:resultNode}.call(this)}}.call(this)};sibilant.transpile=transpile;var readerMacros={};transpile.hat=function transpile$hat$(node){var token=node.contents[0].token,if$2=function(){return token.match(new RegExp("/",void 0))?token.split("/"):[sibilant.macros.searchPath[0],token]}.call(this),namespace=if$2[0],macro=if$2[1],if$2=void 0;return sibilant.macros.namespaces.core.get.call(node,"sibilant.macros.namespaces",sibilant.macros.namespaces.core.quote(transpile.literal({token:namespace})),sibilant.macros.namespaces.core.quote(transpile.literal({token:macro})))},transpile.tick=function transpile$tick$(node){return sibilant.macros.namespaces.core.quote.apply(node,node.contents)},transpile.at=function transpile$at$(node){return transpile(node.contents[0])},transpile.dots=function transpile$dots$(node){return sibilant.macros.namespaces.core.dots.apply(node,node.contents)},transpile["default"]=function transpile$default$(node){return node.token},transpile.output=function transpile$output$(node){return node},transpile.number=function transpile$number$(node){return parseFloat(node.token.replace(new RegExp(",","g"),"")).toString()},transpile.root=function transpile$root$(node){return function(){return 1===node.contents.length?transpile(node.contents[0]):interleave(compact(map(node.contents,asStatement)),"\n")}.call(this)},transpile.expression=function transpile$expression$(node,preprocessor){return function(){if(node.contents.length){var head=node.contents[0],args=node.contents,macro=sibilant.resolveMacro("call");return function(){if(node__QUERY(head,"string"))return macro=sibilant.resolveMacro("concat");if(node__QUERY(head,"dots"))return macro=sibilant.resolveMacro("send"),args=[node.contents[1],head.contents[0]].concat(node.contents.slice(2));if(node__QUERY(head,"literal","otherChar")){var resolvedMacro=sibilant.resolveMacro(outputFormatter(transpile(head)));return function(){return resolvedMacro?(head.hint="macro",macro=resolvedMacro,args=node.contents.slice(1)):void 0}.call(this)}}.call(this),macro.apply(node,args)}return"null"}.call(this)},transpile.bracket=function transpile$bracket$(node){return sibilant.macros.namespaces.core.list.apply(this,node.contents)},transpile.brace=function transpile$brace$(node){return sibilant.macros.namespaces.core.hash.apply(this,node.contents)},transpile.literal=function transpile$literal$(node){var string=node.token.replace(new RegExp("\\*","g"),"_"),lastChar=string.slice(-1)[0];return string=function(){return"?"===lastChar?string.slice(0,-1)+"__QUERY":"!"===lastChar?string.slice(0,-1)+"__BANG":string}.call(this),inject(string,string.match(new RegExp("-(.)","g")),function(returnString,match){var letter=match[1];return returnString.replace(match,function(){return letter===letter.toUpperCase()&&letter!==letter.toLowerCase()?"_"+letter:letter.toUpperCase()}.call(this))})},transpile.string=function transpile$string$(node){return node.token.split("\n").join('\\n" +\n"')},transpile.comment=function transpile$comment$(node){return null};var docs=sibilant.docs={definitions:[],undocumented:{}};docs.record=function docs$record$(type,namespace,name,node){var doc=docs.lastDoc;return function(){return"undefined"!=typeof doc?(delete sibilant.docs.undocumented[name],sibilant.docs.definitions.push(mergeInto(doc,{name:name,type:type,namespace:namespace,definition:node}))):sibilant.docs.undocumented[name]=!0}.call(this),delete sibilant.docs.lastDoc},docs.tags=function docs$tags$(){var tags=flatten(pluck(docs.definitions,"tags")),counts={};return tags.forEach(function(tag){return counts[tag]=(counts[tag]||0)+1}),counts},docs.text=function docs$text$(){return docs.definitions.map(function(definition){return"name: "+definition.type+" "+definition.namespace+"/"+prettify(definition.name)+"\ndescription: "+definition.docString+"\n"+function(){return definition.references?"references:\n  "+(definition.references.map(function(){return eval(outputFormatter(transpile(arguments[0])))}).join("\n  ")+"\n"):""}.call(this)+function(){return definition.tags?"tags: "+definition.tags.join(", ")+"\n":""}.call(this)+"arguments: "+prettify(definition.definition.contents[2])+"\nexamples: \n"+(definition.examples||[]).map(function(){return prettify(arguments[0],!0)+"\n"+outputFormatter(transpile(arguments[0]))}).join("\n\n")+"\n\n"}).join("")},docs.textNoColor=function docs$textNoColor$(){var stripAnsi=__webpack_require__(793);return stripAnsi(docs.text())},docs.json=function docs$json$(){return JSON.stringify(docs.data())},docs.data=function docs$data$(){return docs.definitions.map(function(definition){return{name:prettify(definition.name,!1),namespace:definition.namespace,type:definition.type,description:definition.docString,references:function(){return definition.references?definition.references.map(function(){return arguments[0].token.slice(1,-1)}):[]}.call(this),arguments:definition.definition.contents[2].contents.map(function(){return prettify(arguments[0],!1)}),definition:prettify(definition.definition,!1),examples:(definition.examples||[]).map(function(){return{javascript:outputFormatter(transpile(arguments[0])),sibilant:prettify(arguments[0],!1)}}),tags:definition.tags}})};var sibilize=function sibilize$(input){var result=outputFormatter(transpile(restructure(parse(input))));return result},sourcemap=function sourcemap$(input){return sourcemapper(transpile(restructure(parse(input))))};sibilant.sibilize=sibilize,sibilant.version=function sibilant$version$(){return sibilant.packageInfo().version},sibilant.stripShebang=function sibilant$stripShebang$(data){return data.replace(new RegExp("^#!.*\\n",void 0),"\n")},sibilant.file="eval.sibilant";var withDirAndFile=function withDirAndFile$(dir,file,fn){var before={dir:sibilant.dir,file:sibilant.file};sibilant.dir=dir,sibilant.file=file;var retval=fn();return sibilant.dir=before.dir,sibilant.file=before.file,retval};sibilant.sourceCache={},sibilant.sibilizeFile=function sibilant$sibilizeFile$(fileName){return outputFormatter(sibilant.transpileFile(fileName))},sibilant.sibilizeJson=function sibilant$sibilizeJson$(fileName){var before=sibilant.quoteHashKeys;sibilant.quoteHashKeys=!0;var content=sibilant.sibilizeFile(fileName);return sibilant.quoteHashKeys=before,content};var package={name:"sibilant",version:"0.5.3",keywords:["lisp","javascript","language"],description:"javascript with a lisp",contributors:["Jacob Rothstein <hi@jbr.me> (http://jbr.me)","Matthew Phillips (http://www.matthewphillips.info/)","Yuest Wang (http://yue.st/)","Lyndon Tremblay (http://www.hoovy.org)","David Sargeant (https://github.com/dubiousdavid)"],repository:{type:"git",url:"http://github.com/jbr/sibilant.git"},bugs:{mail:"sibilant@librelist.com",url:"http://github.com/jbr/sibilant/issues"},bin:{sibilant:"./bin/sibilant"},main:"./lib/sibilant.js",license:"MIT",devDependencies:{stool:">=0.0.7",diff:">=2.2.1","strip-ansi":">=3.0.0",colors:">=1.1.2",cardinal:">=0.6.0"},dependencies:{"source-map":">=0.5.3","source-map-support":">=0.3.3"},scripts:{test:"bin/sibilant -x stool.sibilant -- test"}};sibilant.packageInfo=function sibilant$packageInfo$(){return package},sibilant.versionString=function sibilant$versionString$(){return package.name+" browser version "+package.version},sibilant.dir="browser",sibilant.initialize=function sibilant$initialize$(){return!1};var evalCode=function evalCode$(js){return new Function(js)()};return sibilant.include=function sibilant$include$(url){return $.get(url).done(function(){return evalCode(sibilize(arguments[0]))})},function(){return"function"==typeof $?$(function(){return map($.makeArray($('script[type="application/sibilant"][src]').map(function(){return this.src})),sibilant.include)}):void 0}.call(this),sibilant}.call(this)},793:function(module,exports,__webpack_require__){"use strict";var ansiRegex=__webpack_require__(794)();module.exports=function(str){return"string"==typeof str?str.replace(ansiRegex,""):str}},794:function(module,exports){"use strict";module.exports=function(){return/[\u001b\u009b][[()#;?]*(?:[0-9]{1,4}(?:;[0-9]{0,4})*)?[0-9A-ORZcf-nqry=><]/g}},795:function(module,exports,__webpack_require__){"use strict";var isRegExp=__webpack_require__(796).isRegExp,UID=Math.floor(1099511627776*Math.random()).toString(16),PLACE_HOLDER_REGEXP=new RegExp('"@__(FUNCTION|REGEXP)-'+UID+'-(\\d+)__@"',"g"),IS_NATIVE_CODE_REGEXP=/\{\s*\[native code\]\s*\}/g,UNSAFE_CHARS_REGEXP=/[<>\/\u2028\u2029]/g,UNICODE_CHARS={"<":"\\u003C",">":"\\u003E","/":"\\u002F","\u2028":"\\u2028","\u2029":"\\u2029"};module.exports=function serialize(obj,space){var str,functions=[],regexps=[];return str=JSON.stringify(obj,function(key,value){return"function"==typeof value?"@__FUNCTION-"+UID+"-"+(functions.push(value)-1)+"__@":"object"==typeof value&&isRegExp(value)?"@__REGEXP-"+UID+"-"+(regexps.push(value)-1)+"__@":value},space),"string"!=typeof str?String(str):(str=str.replace(UNSAFE_CHARS_REGEXP,function(unsafeChar){return UNICODE_CHARS[unsafeChar]}),0===functions.length&&0===regexps.length?str:str.replace(PLACE_HOLDER_REGEXP,function(match,type,valueIndex){if("REGEXP"===type)return regexps[valueIndex].toString();var fn=functions[valueIndex],serializedFn=fn.toString();if(IS_NATIVE_CODE_REGEXP.test(serializedFn))throw new TypeError("Serializing native function: "+fn.name);return serializedFn}))}},796:function(module,exports,__webpack_require__){(function(global,process){function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(ctx.depth=arguments[2]),arguments.length>=4&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),isUndefined(ctx.showHidden)&&(ctx.showHidden=!1),isUndefined(ctx.depth)&&(ctx.depth=2),isUndefined(ctx.colors)&&(ctx.colors=!1),isUndefined(ctx.customInspect)&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,styleType){var style=inspect.styles[styleType];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function arrayToHash(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var ret=value.inspect(recurseTimes,ctx);return isString(ret)||(ret=formatValue(ctx,ret,recurseTimes)),ret}var primitive=formatPrimitive(ctx,value);if(primitive)return primitive;var keys=Object.keys(value),visibleKeys=arrayToHash(keys);if(ctx.showHidden&&(keys=Object.getOwnPropertyNames(value)),isError(value)&&(keys.indexOf("message")>=0||keys.indexOf("description")>=0))return formatError(value);if(0===keys.length){if(isFunction(value)){var name=value.name?": "+value.name:"";return ctx.stylize("[Function"+name+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];if(isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)){var n=value.name?": "+value.name:"";base=" [Function"+n+"]"}if(isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0===keys.length&&(!array||0==value.length))return braces[0]+base+braces[1];if(0>recurseTimes)return isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special");ctx.seen.push(value);var output;return output=array?formatArray(ctx,value,recurseTimes,visibleKeys,keys):keys.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),reduceToSingleString(output,base,braces)}function formatPrimitive(ctx,value){if(isUndefined(value))return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";
return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):isNull(value)?ctx.stylize("null","null"):void 0}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatArray(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;l>i;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}function formatProperty(ctx,value,recurseTimes,visibleKeys,key,array){var name,str,desc;if(desc=Object.getOwnPropertyDescriptor(value,key)||{value:value[key]},desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?(str=isNull(recurseTimes)?formatValue(ctx,desc.value,null):formatValue(ctx,desc.value,recurseTimes-1),str.indexOf("\n")>-1&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n"))):str=ctx.stylize("[Circular]","special")),isUndefined(name)){if(array&&key.match(/^\d+$/))return str;name=JSON.stringify(""+key),name.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),name=ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),name=ctx.stylize(name,"string"))}return name+": "+str}function reduceToSingleString(output,base,braces){var numLinesEst=0,length=output.reduce(function(prev,cur){return numLinesEst++,cur.indexOf("\n")>=0&&numLinesEst++,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0);return length>60?braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1]:braces[0]+base+" "+output.join(", ")+" "+braces[1]}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNullOrUndefined(arg){return null==arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isSymbol(arg){return"symbol"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function isPrimitive(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||"undefined"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return 10>n?"0"+n.toString(10):n.toString(10)}function timestamp(){var d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":");return[d.getDate(),months[d.getMonth()],time].join(" ")}function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(i>=len)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];len>i;x=args[++i])str+=isNull(x)||!isObject(x)?" "+x:" "+inspect(x);return str},exports.deprecate=function(fn,msg){function deprecated(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(process.noDeprecation===!0)return fn;var warned=!1;return deprecated};var debugEnviron,debugs={};exports.debuglog=function(set){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),!debugs[set])if(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)){var pid=process.pid;debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}}else debugs[set]=function(){};return debugs[set]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=__webpack_require__(798);var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=__webpack_require__(799),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}).call(exports,function(){return this}(),__webpack_require__(797))},797:function(module,exports){function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var timeout=setTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,clearTimeout(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}var currentQueue,process=module.exports={},queue=[],draining=!1,queueIndex=-1;process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},798:function(module,exports){module.exports=function isBuffer(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},799:function(module,exports){"function"==typeof Object.create?module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function inherits(ctor,superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}}});
//# sourceMappingURL=worker.bundle.js.map